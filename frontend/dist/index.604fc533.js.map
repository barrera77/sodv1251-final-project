{"mappings":"AGAe,MAAA,EACb,YAAY,CAAM,CAAE,CAClB,IAAI,CAAC,MAAM,CAAG,CAChB,CACA,SAAS,CAAK,CAAE,CACd,SAAS,KAAK,CAAG,CACnB,CACA,MAAM,SAAU,CACd,MAAO,EACT,CAEA,MAAM,YAAa,CAEnB,CACF,CCdA,MAAM,EAAO;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAqBb,CAAC,CCrBK,EAAa;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AA+NnB,CAAC,CC5NM,eAAe,EAAQ,CAAQ,EACpC,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,GAE7B,GAAI,CAAC,EAAS,EAAE,CACd,MAAM,AAAI,MAAM,kBAIlB,OADa,MAAM,EAAS,IAAI,EAElC,CAAE,MAAO,EAAO,CACd,MAAM,CACR,CACF,CC2FA,IAAA,EA3GmB,CAAC,EAAS,KAC3B,IAAI,EAAgB,EAAO,OAAO,CAAC,MAAM,CACnC,EAAa,AAAC,IAClB,GAAM,CAAC,EAAU,EAAS,CAAG,EAAK,KAAK,CAAC,KACpC,CAAC,EAAM,EAAQ,CAAG,EAAS,KAAK,CAAC,KAE/B,EAAS,GAAQ,GAAK,KAAO,KAGnC,OAFA,EAAO,EAAO,IAAM,GAEb,CAAA,EAAG,EAAK,CAAC,EAAE,EAAQ,CAAC,EAAE,EAAA,CAAQ,AACvC,EAUA,OAFsB,SAAS,aAAa,CAAC,mBAEtC;A;A;A;A;A;A;A;AAQq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A;A;AAK5B,iCAAA,EAAE,EAAI,OAAO,CAAC,GAAG;A;A;A;A;A;AAMjB,iCAAA,EAAE,EAAc,KAAK,CAAC;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAoZjC,sBAAA,EAAE,EACC,GAAG,CAAC,AAAC,IACJ,IAAM,EACJ,EAAQ,GAAG,EACX,EAAQ,GAAG,CAAC,QAAQ,EACpB,EAAQ,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAG,EAC1B,EAAQ,GAAG,CAAC,QAAQ,CAAC,EAAE,CACvB,GACN,MAAO;AACI,qCAAA,EAAE,EAAQ,GAAG,CAAC,IAAI,CAAC;AAChC,wBAAA,EAAE,EAAQ,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,EAAQ,GAAG,CAAC,IAAI,CAAA,EAAG,EAAO;A;AAEtD,sBAAA,CAAC,AACC,GACC,IAAI;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAyFnB,UAAA,CAAC,AACX,EC9eA,SAAS,EAAc,CAAG,CAAE,CAAG,CAAE,CAAK,EACpC,IAAM,EAAgB,EAAE,CAExB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,IACzB,EAAc,IAAI,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,GAAM,CAAA,EAAM,CAAA,GAAQ,GAE/D,OAAO,CACT,CAkBA,IAAA,EAlJkB,AAAC,IACjB,IAAI,EAAU,EAAc,EAAG,EAAG,GAC9B,EAA8B,EAAc,EAAG,EAAG,GAClD,EAA+B,EAAc,EAAG,EAAG,GACnD,EAAmB,AAmIzB,SAA0B,CAAK,EAC7B,IAAM,EAAW,6BACX,EAAgB,EAAE,CAExB,IAAK,IAAI,EAAI,EAAG,EAvIwB,EAuIb,IAAK,CAC9B,IAAM,EAAc,KAAK,KAAK,CAAC,KAAK,MAAM,GAAK,EAAS,MAAM,EAC9D,EAAc,IAAI,CAAC,CAAQ,CAAC,EAAY,CAC1C,CACA,OAAO,CACT,EA5I0C,GAExC,MAAO;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAoDa,sBAAA,EAAE,EAAK;A;A;A;A;A;A;A;AAQZ,iBAAA,EAAE,EAAiB,IAAI,CAAC,IAAI;A;A;A;AAI5B,iBAAA,EAAE,EAAiB,IAAI,CAAC,IAAI;A;A;A;A;A;A;A;A;AAS5B,iBAAA,EAAE,EAA4B,IAAI,CACrC,IACA,CAAC,EAAE,EAA6B,IAAI,CAAC,IAAI;A;A;A;AAItC,iBAAA,EAAE,EAAQ,IAAI,CAAC,IAAI;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAyBpC,CAAC,AACD,CF1Ge,OAAA,UAAc,EAC3B,YAA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","sources":["<anon>","frontend/src/index.js","frontend/src/components/Home.js","frontend/src/components/AbstractView.js","frontend/src/components/Hero.js","frontend/src/templates/search-form.js","frontend/src/utils/api-utility.js","frontend/src/templates/flight-card.js","frontend/src/templates/booking-options-card.js","frontend/src/templates/selected-flights-card.js","frontend/src/templates/sign-form.js","frontend/src/components/Bookings.js","frontend/src/templates/booking-form.js","frontend/src/templates/email-body.js","frontend/src/components/Confirmation.js"],"sourcesContent":["class $c4b00e42b75f1dbd$export$2e2bcd8739ae039 {\n    constructor(params){\n        this.params = params;\n    }\n    setTitle(title) {\n        document.title = title;\n    }\n    async getHtml() {\n        return \"\";\n    }\n    async postRender() {\n    //manage DOM post-rendering logic, e.g attach event listeners, etc.\n    }\n}\n\n\nconst $466909656a1b336a$var$Hero = `\n<section class=\"hero\" style=\"display: block;\">\n    <div class=\"hero-image-container\">\n    <img\n        src=\"../src/assets/hero-img-3.png\"\n        alt=\"airplane\"\n        class=\"img-fuid\"\n    />\n    </div>\n    <div class=\"hero-content py-3\">\n    <h1 class=\"fw-bold pb-4\">\n        With <span class=\"logo-b\">B</span><span class=\"logo-v\">V</span\n        ><span class=\"logo-c\">C</span> Airlines <br />\n        The Sky's Not the Limit!\n    </h1>\n    <p class=\"fw-bold\">\n        Elevate your journey. Indulge in unparalleled luxury <br />\n        and comfort as you soar above the clouds with us.\n    </p>\n    </div>\n</section>\n`;\nvar $466909656a1b336a$export$2e2bcd8739ae039 = $466909656a1b336a$var$Hero;\n\n\nconst $29b5229218e4e9e4$var$SearchForm = `\n <div class=\"container-sm\">\n      <div class=\"my-2 card\">\n        <div class=\"card-body\">\n          <h2 class=\"card-title text-center\">Flights</h2>\n          <div class=\"row\">\n            <div class=\"col-sm\">\n              <div class=\"mb-2\">\n                <label id=\"origin-label\" for=\"origin-input\" class=\"form-label\"\n                  >Depart From?</label\n                >\n                <div class=\"input-group\">\n                  <span class=\"input-group-text\"\n                    ><i class=\"bi bi-geo-alt\"></i>\n                  </span>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    list=\"origin-options\"\n                    id=\"origin-input\"\n                    placeholder=\"From?\"\n                    aria-describedby=\"origin-label\"\n                  />\n                  <datalist id=\"origin-options\"></datalist>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm\">\n              <div class=\"mb-2\">\n                <label\n                  id=\"destination-label\"\n                  for=\"destination-input\"\n                  class=\"form-label\"\n                  >Arrive To?</label\n                >\n                <div class=\"input-group\">\n                  <span class=\"input-group-text\"\n                    ><i class=\"bi bi-geo-alt-fill\"></i>\n                  </span>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    list=\"destination-options\"\n                    id=\"destination-input\"\n                    placeholder=\"To?\"\n                    aria-describedby=\"destination-label\"\n                  />\n                  <datalist id=\"destination-options\"></datalist>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"mb-2 col\">\n          <div class=\"h-100 card\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Dates</h5>\n              <div class=\"mb-2\">\n                <label\n                  id=\"flight-type-label\"\n                  for=\"flight-type-select\"\n                  class=\"form-label\"\n                  >Flight</label\n                >\n                <div class=\"input-group\">\n                    <span class=\"input-group-text\"\n                    ><i class=\"flight-icon\"></i>\n                  </span>\n                    <select\n                      id=\"flight-type-select\"\n                      class=\"form-select select-flight\"\n                      aria-describedby=\"flight-type-label\"\n                    >\n                      <option value=\"round-trip\" selected><span></span> Round-trip</option>\n                      <option value=\"one-way\"><span></span> One-way</option>\n                    </select>\n                </div>\n              </div>\n              <div id=\"departure-date\" class=\"mb-2\">\n                <label\n                  id=\"departure-date-label\"\n                  for=\"departure-date-input\"\n                  class=\"form-label\"\n                  >Departure date</label\n                >\n                <div class=\"input-group\">\n                  <span class=\"input-group-text\"\n                    ><i class=\"bi-calendar\"></i>\n                  </span>\n                  <input\n                    type=\"date\"\n                    class=\"form-control\"\n                    id=\"departure-date-input\"\n                    aria-describedby=\"departure-date-label\"\n                  />\n                </div>\n              </div>\n              <div id=\"return-date\" class=\"mb-2\">\n                <label\n                  id=\"return-date-label\"\n                  for=\"return-date-input\"\n                  class=\"form-label\"\n                  >Return date</label\n                >\n                <div class=\"input-group\">\n                  <span class=\"input-group-text\"\n                    ><i class=\"bi-calendar-fill\"></i>\n                  </span>\n                  <input\n                    type=\"date\"\n                    class=\"form-control\"\n                    id=\"return-date-input\"\n                    aria-describedby=\"return-date-label\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"mb-2 col\">\n          <div class=\"h-100 card\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Details</h5>\n              <div class=\"mb-2\">\n                <label\n                  id=\"travel-class-label\"\n                  for=\"travel-class-select\"\n                  class=\"form-label\"\n                  >Travel class</label\n                >\n                <select\n                  class=\"form-select\"\n                  id=\"travel-class-select\"\n                  aria-describedby=\"travel-class-label\"\n                >\n                  <option value=\"1\" selected>Economy</option>\n                  <option value=\"2\">Premium Economy</option>\n                  <option value=\"3\">Business</option>\n                  <option value=\"4\">First</option>\n                </select>\n              </div>\n              <label class=\"form-label\">Passengers</label>\n              <div class=\"mb-2\">\n                <div class=\"input-group\">\n                  <label for=\"adults-input\" class=\"input-group-text\"\n                    >Adults</label\n                  >\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    id=\"adults-input\"\n                    aria-describedby=\"adults-label\"\n                  />\n                </div>\n                <span id=\"adults-label\" class=\"form-text\"\n                  >12 years old and older</span\n                >\n              </div>\n              <div class=\"mb-2\">\n                <div class=\"input-group\">\n                  <label for=\"children-input\" class=\"input-group-text\"\n                    >Children</label\n                  >\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    id=\"children-input\"\n                    aria-describedby=\"children-label\"\n                  />\n                </div>\n                <span id=\"children-label\" class=\"form-text\"\n                  >2 to 12 years old</span\n                >\n              </div>\n              <div class=\"mb-2\">\n                <div class=\"\">\n                  <div class=\"input-group\">\n                    <label for=\"infants-input\" class=\"input-group-text\"\n                      >Infants</label\n                    >\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      class=\"form-control\"\n                      id=\"infants-input\"\n                      aria-describedby=\"infants-label\"\n                    />\n             \n                </div>\n                <span id=\"infants-label\" class=\"form-text\">\n                Up to 2 years old\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"w-100 d-flex justify-content-center gap-4\">\n        <button id=\"search-button\" class=\"btn btn-search btn-dark\">Search</button>\n        <button class=\"btn btn-reset btn-dark\">Reset</button>\n      </div>\n      <div class=\"border-bottom mb-4 pt-4\" id=\"search-results-separator\"></div>\n      <div class=\"d-flex justify-content-center\" id=\"search-results-loader\">\n        <div class=\"spinner-border\" role=\"status\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n       <div class=\"search-results-container container px-3\"> \n            <div id=\"best-flights\" class=\"cards-wrapper border border-secondary-subttle px-3 mb-4\">\n\n            \n            </div>\n            <div id=\"other-flights\" class=\"cards-wrapper border border-secondary-subttle px-3\">\n            \n            </div>\n\n          </div>  \n      \n    </div>\n`;\nvar $29b5229218e4e9e4$export$2e2bcd8739ae039 = $29b5229218e4e9e4$var$SearchForm;\n\n\nconst $55510dd80b4e0306$var$BASE_URL = \"http://localhost:5002\";\nasync function $55510dd80b4e0306$export$7a171f172be0782e(endpoint) {\n    try {\n        const response = await fetch(endpoint);\n        if (!response.ok) throw new Error(\"Data not found\");\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\nconst $55510dd80b4e0306$export$15d8621db9a88346 = async (endpoint, object)=>{\n    const response = await fetch(`${$55510dd80b4e0306$var$BASE_URL}${endpoint}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(object)\n    });\n    if (!response.ok) throw new Error(\"Failed to save data\");\n    else {\n        const data = await response.json();\n        return data;\n    }\n};\n\n\nconst $7ea57702f6c119e4$var$FlightCard = (results, flight)=>{\n    let flightsLength = flight.flights.length;\n    const formatTime = (time)=>{\n        const [datePart, timePart] = time.split(\" \");\n        let [hour, minutes] = timePart.split(\":\");\n        const period = hour >= 12 ? \"PM\" : \"AM\";\n        hour = hour % 12 || 12; // Convert to 12-hour format and handle midnight as 12\n        return `${hour}:${minutes} ${period}`;\n    };\n    const formatDuration = (minutes)=>{\n        const hours = Math.floor(minutes / 60);\n        const remainingMinutes = minutes % 60;\n        return `${hours}h ${remainingMinutes}m`;\n    };\n    const emissionsData = document.querySelector(\".emissions span\");\n    return `\n        <div\n            class=\"card-container border-bottom border-secondary-subttle py-3 w-100 m-auto\"\n          >\n            <div class=\"row w-100 m-auto\">\n              <div class=\"col-11\">\n                <div class=\"row\">\n                  <div class=\"col-1\">\n                    <img src=\"${flight.airline_logo}\" alt=\"airline-logo\" />\n                  </div>\n                  <div class=\"col-3\">\n                    <div class=\"data\">${formatTime(flight.flights[0].departure_airport.time)} - ${formatTime(flight.flights[flightsLength - 1].arrival_airport.time)}</div>\n                    <div class=\"subdata\"> ${flight.flights[0].airline}</div>\n                  </div>\n                  <div class=\"col-2\">\n                    <div class=\"data\">${formatDuration(flight.total_duration)}</div>\n                    <div class=\"subdata\">${results.search_parameters.departure_id} - ${results.search_parameters.arrival_id}\n  </div>\n                  </div>\n                  <div class=\"col-2\">\n                    <div class=\"data\">${flight.layovers?.length > 0 ? `${flight.layovers.length} stops` : \"Nonstop\"} </div>\n                    <div class=\"subdata\">stops</div>\n                  </div>\n                  <div class=\"col-2\">\n                    <div class=\"data\">${flight.carbon_emissions.this_flight / 1000} kg CO2e</div>\n                    <div class=\"subdata emissions\"><span class=\"rounded-pill px-1\" style=\"background-color: ${flight.carbon_emissions.difference_percent < 0 ? \"rgba(0, 128, 0, 0.2)\" : \"transparent\"}; \">\n                    ${flight.carbon_emissions.difference_percent > 0 ? `+${flight.carbon_emissions.difference_percent}` : flight.carbon_emissions.difference_percent}% emissions\n                    </span></div>\n                  </div>\n                  <div class=\"col-2\">\n                    <div class=\"data\">${results.search_parameters.currency}$${flight.price}</div>\n                    <div class=\"subdata\">${flight.type}</div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-1\">\n                <button class=\"bi-check2-circle btn btn-select-flight\" \n                  data-toggle=\"tooltip\" \n                  data-token=\"${flight.departure_token ?? flight.booking_token}\" \n                  data-departure_id=\"${results.search_parameters.departure_id}\"\n                  data-arrival_id=\"${results.search_parameters.arrival_id}\"\n                  data-outbound_date=\"${results.search_parameters.outbound_date}\"\n                  data-return_date=\"${results.search_parameters.return_date}\"\n                  data-adults=\"${results.search_parameters.adults}\"\n                  data-children=\"${results.search_parameters.children}\"\n                  data-infants=\"${results.search_parameters.infants_in_seat !== null ? results.search_parameters.infants_in_seat : 0}\">\n                </button>\n              </div>\n            </div>\n          </div>\n            </div>\n        \n`;\n};\nvar $7ea57702f6c119e4$export$2e2bcd8739ae039 = $7ea57702f6c119e4$var$FlightCard;\n\n\nconst $fb9992c631150e99$var$BookingOptionsCard = (bookingOption)=>{\n    let airlineLogo = \"\";\n    if (bookingOption.together.airline_logos.length > 0) airlineLogo = bookingOption.together.airline_logos[0];\n    let price = bookingOption.together.price;\n    let bookWith = bookingOption.together.book_with;\n    return `\n\n  <div\n        class=\"card-container container border-bottom border-secondary-subttle py-3 w-100 m-auto\"\n    >\n        <div class=\"row\">\n        <div class=\"col-9\">\n            <div class=\"row\">\n            <div class=\"col-1\">\n                <img src=\"${airlineLogo}\" alt=\"airline-logo\" />\n            </div>\n            <div class=\"col-6\">\n                <div class=\"data\">Book with - ${bookWith}</div>\n                <div class=\"subdata\">stops</div>\n            </div>\n            <div class=\"col-5\">\n                <div class=\"data\"><span class=\"text-success\">CAD $${price}</span></div>\n                <div class=\"subdata\">Check with airline for bag and optional fees</div>\n            </div>\n            </div>\n        </div>\n        <div class=\"col-3 text-center\">\n          <a\n            href=\"booking-form\"\n            data-link\n            class=\"btn btn-outline-success bi-bookmark-check btn-book-flight\"\n            data-price=\"${price}\"\n            data-book-with=\"${bookWith}\"\n\n          >\n            Book Flight\n          </a>\n        </div>\n        </div>\n    </div>\n\n\n\n`;\n};\nvar $fb9992c631150e99$export$2e2bcd8739ae039 = $fb9992c631150e99$var$BookingOptionsCard;\n\n\nconst $964bf997095f0af1$var$SelectedFlightCard = (results, flight)=>{\n    let flightsLength = flight.flights.length;\n    const formatTime = (time)=>{\n        const [datePart, timePart] = time.split(\" \");\n        let [hour, minutes] = timePart.split(\":\");\n        const period = hour >= 12 ? \"PM\" : \"AM\";\n        hour = hour % 12 || 12; // Convert to 12-hour format and handle midnight as 12\n        return `${hour}:${minutes} ${period}`;\n    };\n    const formatDuration = (minutes)=>{\n        const hours = Math.floor(minutes / 60);\n        const remainingMinutes = minutes % 60;\n        return `${hours}h ${remainingMinutes}m`;\n    };\n    return `\n          <div\n              class=\"card-container border-bottom border-secondary-subttle py-3 w-100 m-auto\"\n            >\n              <div class=\"row w-100 m-auto\">\n                <div class=\"col-12\">\n                  <div class=\"row\">\n                    <div class=\"col-1\">\n                      <img src=\"${flight.airline_logo}\" alt=\"airline-logo\" />\n                    </div>\n                    <div class=\"col-4\">\n                      <div class=\"data\">${results.search_parameters.outbound_date} - ${formatTime(flight.flights[0].departure_airport.time)} - ${flight.flights.length > 1 ? formatTime(flight.flights[flightsLength - 1].arrival_airport.time) : formatTime(flight.flights[0].arrival_airport.time)}</div>\n                      <div class=\"subdata\"> ${flight.flights[0].airline}</div>\n                    </div>\n                    <div class=\"col-2\">\n                      <div class=\"data\">${formatDuration(flight.total_duration)}</div>\n                      <div class=\"subdata\">${results.search_parameters.departure_id} - ${results.search_parameters.arrival_id}\n    </div>\n                    </div>\n                    <div class=\"col-2\">\n                      <div class=\"data\">${flight.layovers?.length > 0 ? `${flight.layovers.length} stops` : \"Nonstop\"} </div>\n                      <div class=\"subdata\">stops</div>\n                    </div>\n                    <div class=\"col-3\">\n                      <div class=\"data\">${flight.carbon_emissions?.this_flight / 1000} kg CO2e</div>\n                      <div class=\"subdata emissions\"><span class=\"rounded-pill px-1\" style=\"background-color: ${flight.carbon_emissions.difference_percent < 0 ? \"rgba(0, 128, 0, 0.2)\" : \"transparent\"}; \">\n                      ${flight.carbon_emissions.difference_percent > 0 ? `+${flight.carbon_emissions.difference_percent}` : flight.carbon_emissions.difference_percent}% emissions\n                      </span></div>\n                    </div>                    \n                  </div>\n                </div>            \n              </div>\n            </div>\n              </div>\n          \n  `;\n};\nvar $964bf997095f0af1$export$2e2bcd8739ae039 = $964bf997095f0af1$var$SelectedFlightCard;\n\n\nconst $128008df953cc8c9$var$SigninForm = `\n<section class=\"vh-75\">\n  <div class=\"container py-3 h-100\">\n    <div class=\"row d-flex justify-content-center pt-3 h-100\">\n      <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n        <div class=\"card login-card\" style=\"border-radius: 1rem;\">\n          <div class=\"card-body py-3 px-5 text-center\">\n\n            <div class=\"mb-md-5 mt-md-4 pb-2\">\n\n              <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\n              <p class=\"\" mb-5\">Please enter your login and password!</p>\n\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\n                <input type=\"text\" id=\"username\" name=\"username\" placeholder=\"username\" class=\"form-control form-control-lg\" placeholder=\"email\"/>\n                <div\n                    id=\"invalid-login-username\"\n                    class=\"invalid-feedback text-dark\"\n                >\n                    <i class=\"bi bi-exclamation-triangle\"></i>\n                    <span id=\"message\">Invalid Username</span>\n                </div>\n              </div>\n\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\n                <input placeholder=\"password\" type=\"password\" name=\"password\" id=\"password\" class=\"form-control form-control-lg\" />\n                 <div\n                    id=\"invalid-login-password\"\n                    class=\"invalid-feedback text-dark\"\n                >\n                    <i class=\"bi bi-exclamation-triangle\"></i>\n                    <span id=\"message\">Invalid Password</span>\n                </div>\n              </div>\n\n              <p class=\"small mb-3 pb-lg-2\"><a class=\"text-dark\" href=\"#!\">Forgot password?</a></p>\n\n              <button class=\"btn btn-dark btn-lg px-5\" type=\"submit\">Login</button>\n\n              <div class=\"d-flex justify-content-center text-center mt-4 pt-1\">\n                <a href=\"#!\" class=\"text-dark\"><i class=\"fab fa-facebook-f fa-lg\"></i></a>\n                <a href=\"#!\" class=\"text-dark\"><i class=\"fab fa-twitter fa-lg mx-4 px-2\"></i></a>\n                <a href=\"#!\" class=\"text-dark\"><i class=\"fab fa-google fa-lg\"></i></a>\n              </div>\n\n            </div>\n\n            <div>\n              <p class=\"mb-0\">Don't have an account? <a href=\"#!\" class=\"fw-bold\">Sign Up</a>\n              </p>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n`;\nvar $128008df953cc8c9$export$2e2bcd8739ae039 = $128008df953cc8c9$var$SigninForm;\n\n\nclass $383917d63580280f$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Home\");\n        this.autocompleteTimeout = 300;\n        this.autocompleteTimeoutHandle = 0;\n        this.domElements = {};\n    }\n    async getHtml() {\n        return `\n          \n          <div class=\"html-container\">\n            ${0, $466909656a1b336a$export$2e2bcd8739ae039} \n            ${0, $29b5229218e4e9e4$export$2e2bcd8739ae039} \n          </div>          \n        `;\n    }\n    async postRender() {\n        // this.getCountryID();\n        this.initializeElements();\n        const { originInput: originInput, originOptions: originOptions, destinationInput: destinationInput, destinationOptions: destinationOptions, departureDateInput: departureDateInput, flightTypeSelect: flightTypeSelect, returnDate: returnDate, searchButton: searchButton, resetButton: resetButton, selectFlightButtons: selectFlightButtons, searchResultsSeparator: searchResultsSeparator, searchResultsLoader: searchResultsLoader, searchResults: searchResults, returnDateInput: returnDateInput, travelClassSelect: travelClassSelect, adultsInput: adultsInput, childrenInput: childrenInput, infantsInput: infantsInput, flightIcon: flightIcon } = this.domElements;\n        this.reset();\n        document.body.addEventListener(\"change\", ()=>{\n            clearTimeout(this.autocompleteTimeoutHandle);\n            searchButton.disabled = !originInput.value || !destinationInput.value;\n        });\n        originInput.addEventListener(\"input\", ()=>{\n            this.autocomplete(originInput, originOptions);\n        });\n        destinationInput.addEventListener(\"input\", ()=>{\n            this.autocomplete(destinationInput, destinationOptions);\n        });\n        flightTypeSelect.addEventListener(\"change\", ()=>{\n            if (flightTypeSelect.value === \"one-way\") {\n                returnDate.classList.add(\"d-none\");\n                flightIcon.classList.remove(\"bi-arrow-repeat\");\n                flightIcon.classList.add(\"bi-arrow-right\");\n            } else {\n                returnDate.classList.remove(\"d-none\");\n                flightIcon.classList.remove(\"bi-arrow-right\");\n                flightIcon.classList.add(\"bi-arrow-repeat\");\n            }\n        });\n        searchButton.addEventListener(\"click\", async ()=>{\n            searchResultsSeparator.classList.remove(\"d-none\");\n            searchResultsLoader.classList.remove(\"d-none\");\n            const results = await this.search();\n            searchResultsLoader.classList.add(\"d-none\");\n            this.showResults(results);\n        });\n        resetButton.addEventListener(\"click\", (event)=>{\n            event.preventDefault();\n            this.reset();\n        });\n    }\n    /**\r\n   * Initialize DOM elements\r\n   */ initializeElements() {\n        this.domElements = {\n            originInput: document.getElementById(\"origin-input\"),\n            originOptions: document.getElementById(\"origin-options\"),\n            destinationInput: document.getElementById(\"destination-input\"),\n            destinationOptions: document.getElementById(\"destination-options\"),\n            departureDateInput: document.getElementById(\"departure-date-input\"),\n            flightTypeSelect: document.getElementById(\"flight-type-select\"),\n            returnDate: document.getElementById(\"return-date\"),\n            searchButton: document.getElementById(\"search-button\"),\n            resetButton: document.querySelector(\".btn-reset\"),\n            selectFlightButtons: document.querySelectorAll(\".btn-select-flight\"),\n            bookFlightButtons: document.querySelectorAll(\".btn-book-flight\"),\n            sendQueryButton: document.querySelector(\".btn-send-query\"),\n            searchResultsSeparator: document.getElementById(\"search-results-separator\"),\n            searchResultsLoader: document.getElementById(\"search-results-loader\"),\n            bestFlights: document.getElementById(\"best-flights\"),\n            otherFlights: document.getElementById(\"other-flights\"),\n            returnDateInput: document.getElementById(\"return-date-input\"),\n            travelClassSelect: document.getElementById(\"travel-class-select\"),\n            adultsInput: document.getElementById(\"adults-input\"),\n            childrenInput: document.getElementById(\"children-input\"),\n            infantsInput: document.getElementById(\"infants-input\"),\n            flightIcon: document.querySelector(\".flight-icon\")\n        };\n    }\n    reset() {\n        const { originInput: originInput, destinationInput: destinationInput, departureDateInput: departureDateInput, flightTypeSelect: flightTypeSelect, returnDate: returnDate, searchButton: searchButton, searchResultsSeparator: searchResultsSeparator, searchResultsLoader: searchResultsLoader, returnDateInput: returnDateInput, travelClassSelect: travelClassSelect, adultsInput: adultsInput, childrenInput: childrenInput, infantsInput: infantsInput, infantsOnLap: infantsOnLap, flightIcon: flightIcon } = this.domElements;\n        originInput.value = \"\";\n        destinationInput.value = \"\";\n        departureDateInput.valueAsDate = new Date();\n        returnDateInput.valueAsDate = new Date();\n        returnDate.classList.add(\"d-none\");\n        travelClassSelect.value = \"1\";\n        adultsInput.value = 1;\n        childrenInput.value = 0;\n        infantsInput.value = 0;\n        searchButton.disabled = true;\n        searchResultsSeparator.classList.add(\"d-none\");\n        searchResultsLoader.classList.add(\"d-none\");\n        flightTypeSelect.value = \"one-way\";\n        flightIcon.classList.add(\"bi-arrow-right\");\n    }\n    /**\r\n   * format dates\r\n   * @param {*} date\r\n   * @returns\r\n   */ formatDate(date) {\n        const [formattedDate] = date.toISOString().split(\"T\");\n        return formattedDate;\n    }\n    /**\r\n   * format numeric values\r\n   * @param {*} number\r\n   * @returns\r\n   */ formatNumber(number) {\n        return `${Math.abs(parseInt(number))}`;\n    }\n    /**\r\n   * handle logic for the autocomplete feature for the input elements\r\n   * @param {*} input\r\n   * @param {*} datalist\r\n   * @param {*} cityCodes\r\n   */ autocomplete(input, datalist) {\n        clearTimeout(this.autocompleteTimeoutHandle);\n        this.autocompleteTimeoutHandle = setTimeout(async ()=>{\n            try {\n                const data = await (0, $55510dd80b4e0306$export$7a171f172be0782e)(\"/airports\");\n                // get data\n                let matches = data.filter((airport)=>{\n                    const regex = new RegExp(`^${input}`, \"gi\");\n                    return airport.country.match(regex) || airport.name.match(regex) || airport.city.match(regex) || airport.iata_code.match(regex);\n                });\n                datalist.textContent = \"\";\n                matches.forEach((entry)=>{\n                    datalist.insertAdjacentHTML(\"beforeend\", `<option value=\"${entry.iata_code}\">${entry.city} - ${entry.iata_code}</option>`);\n                });\n            } catch (error) {\n                console.error(error);\n            }\n        }, this.autocompleteTimeout);\n    }\n    /**\r\n   *\r\n   * @returns Search fro flights based on user input criteria\r\n   */ async search() {\n        const { originInput: originInput, destinationInput: destinationInput, departureDateInput: departureDateInput, flightTypeSelect: flightTypeSelect, returnDateInput: returnDateInput, travelClassSelect: travelClassSelect, adultsInput: adultsInput, childrenInput: childrenInput, infantsInput: infantsInput } = this.domElements;\n        try {\n            const returns = flightTypeSelect.value === \"round-trip\";\n            const params = new URLSearchParams({\n                departure_id: originInput.value,\n                arrival_id: destinationInput.value,\n                outbound_date: this.formatDate(departureDateInput.valueAsDate),\n                departure_token: \"\",\n                adults: this.formatNumber(adultsInput.value),\n                children: this.formatNumber(childrenInput.value),\n                infants_in_seat: this.formatNumber(infantsInput.value),\n                travel_class: this.formatNumber(travelClassSelect.value),\n                ...returns ? {\n                    return_date: this.formatDate(returnDateInput.valueAsDate)\n                } : {},\n                currency: \"CAD\",\n                hl: \"en\"\n            });\n            const query = `search?${params.toString()}`;\n            const data = await (0, $55510dd80b4e0306$export$7a171f172be0782e)(query);\n            return data;\n        } catch (error) {\n            console.error(error);\n        }\n    }\n    /**\r\n   * Render the search results\r\n   * @param {*} results\r\n   */ showResults(results) {\n        const { bestFlights: bestFlights, otherFlights: otherFlights } = this.domElements;\n        const bestFlightsList = results.best_flights || [];\n        const otherFlightsList = results.other_flights || [];\n        if (bestFlightsList.length === 0) {\n            // Clear any existing content and add \"No results\" message\n            bestFlights.textContent = \"\"; // Ensures it's empty\n            bestFlights.insertAdjacentHTML(\"beforeend\", `\n        <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\n            No results\n        </div>\n        `);\n        } else {\n            // Clear any existing content\n            bestFlights.textContent = \"\";\n            bestFlights.innerHTML = `<h3 class=\"text-center py-3\">Best Flights</h3>`;\n            bestFlightsList.forEach((flight)=>{\n                bestFlights.innerHTML += `\n          <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\n          ${(0, $7ea57702f6c119e4$export$2e2bcd8739ae039)(results, flight)}\n          </div>\n            `;\n            });\n        }\n        if (otherFlightsList.length === 0) {\n            // Clear any existing content and add \"No results\" message\n            otherFlights.textContent = \"\"; // Ensures it's empty\n            otherFlights.insertAdjacentHTML(\"beforeend\", `\n        <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\n            No results\n        </div>\n        `);\n        } else {\n            // Clear any existing content\n            otherFlights.textContent = \"\";\n            otherFlights.innerHTML = `<h3 class=\"text-center py-3\">Other Flights</h3>`;\n            otherFlightsList.forEach((flight)=>{\n                otherFlights.innerHTML += `\n        <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\n        ${(0, $7ea57702f6c119e4$export$2e2bcd8739ae039)(results, flight)}\n        </div>\n          `;\n            });\n        }\n        this.getReturnFlights();\n    }\n    getReturnFlights() {\n        this.domElements.selectFlightButtons = document.querySelectorAll(\".btn-select-flight\");\n        if (this.domElements.selectFlightButtons.length > 0) this.domElements.selectFlightButtons.forEach((button)=>{\n            button.addEventListener(\"click\", async (event)=>{\n                const token = event.target.getAttribute(\"data-token\");\n                const departure_id = event.target.getAttribute(\"data-departure_id\");\n                const arrival_id = event.target.getAttribute(\"data-arrival_id\");\n                const outbound_date = event.target.getAttribute(\"data-outbound_date\");\n                const return_date = event.target.getAttribute(\"data-return_date\");\n                const numOfAdults = event.target.getAttribute(\"data-adults\");\n                const numOfChildren = event.target.getAttribute(\"data-children\");\n                const numOfInfants = event.target.getAttribute(\"data-infants\");\n                const params = new URLSearchParams({\n                    engine: \"google_flights\",\n                    departure_id: departure_id,\n                    arrival_id: arrival_id,\n                    outbound_date: outbound_date,\n                    return_date: return_date,\n                    adults: numOfAdults,\n                    children: numOfChildren,\n                    infants_in_seat: numOfInfants || 0,\n                    departure_token: token,\n                    currency: \"CAD\",\n                    hl: \"en\"\n                });\n                this.domElements.searchResultsLoader.classList.remove(\"d-none\");\n                const query = `/search?${params.toString()}`;\n                try {\n                    const response = await fetch(query);\n                    if (!response.ok) throw new Error(\"Data not found\");\n                    this.domElements.searchResultsLoader.classList.add(\"d-none\");\n                    const data = await response.json();\n                    this.showReturnResults(data);\n                } catch (error) {\n                    throw error;\n                }\n            });\n        });\n    }\n    showReturnResults(results) {\n        const { bestFlights: bestFlights, otherFlights: otherFlights } = this.domElements;\n        const bestFlightsList = results.best_flights || [];\n        const otherFlightsList = results.other_flights || [];\n        if (bestFlightsList.length === 0) // Clear any existing content and add \"No results\" message\n        bestFlights.innerHTML = \"\";\n        else {\n            // Clear any existing content\n            bestFlights.innerHTML = \"\";\n            bestFlights.innerHTML = `<h3 class=\"text-center py-3\">Best Return Flights</h3>`;\n            bestFlightsList.forEach((flight)=>{\n                bestFlights.innerHTML += `\n          <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\n          ${(0, $7ea57702f6c119e4$export$2e2bcd8739ae039)(results, flight)}\n          </div>\n            `;\n            });\n        }\n        if (otherFlightsList.length === 0) {\n            // Clear any existing content and add \"No results\" message\n            otherFlights.innerHTML = \"\"; // Ensures it's empty\n            otherFlights.insertAdjacentHTML(\"beforeend\", `\n        <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\n            No results\n        </div>\n        `);\n        } else {\n            // Clear any existing content\n            otherFlights.innerHTML = \"\";\n            otherFlights.innerHTML = `<h3 class=\"text-center py-3\">Other Return Flights</h3>`;\n            otherFlightsList.forEach((flight)=>{\n                otherFlights.innerHTML += `\n        <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\n        ${(0, $7ea57702f6c119e4$export$2e2bcd8739ae039)(results, flight)}\n        </div>\n          `;\n            });\n        }\n        this.getBookingOptions();\n    }\n    getBookingOptions() {\n        this.domElements.selectFlightButtons = document.querySelectorAll(\".btn-select-flight\");\n        if (this.domElements.selectFlightButtons.length > 0) this.domElements.selectFlightButtons.forEach((button)=>{\n            button.addEventListener(\"click\", async (event)=>{\n                const token = event.target.getAttribute(\"data-token\");\n                const departure_id = event.target.getAttribute(\"data-departure_id\");\n                const arrival_id = event.target.getAttribute(\"data-arrival_id\");\n                const outbound_date = event.target.getAttribute(\"data-outbound_date\");\n                const return_date = event.target.getAttribute(\"data-return_date\");\n                const numOfAdults = event.target.getAttribute(\"data-adults\");\n                const numOfChildren = event.target.getAttribute(\"data-children\");\n                const numOfInfants = event.target.getAttribute(\"data-infants\");\n                const params = {\n                    engine: \"google_flights\",\n                    departure_id: departure_id,\n                    arrival_id: arrival_id,\n                    outbound_date: outbound_date,\n                    return_date: return_date,\n                    booking_token: token,\n                    adults: numOfAdults,\n                    children: numOfChildren,\n                    infants_in_seat: numOfInfants || 0,\n                    currency: \"CAD\",\n                    hl: \"en\"\n                };\n                const urlParams = new URLSearchParams(params);\n                const query = `/search?${urlParams.toString()}`;\n                this.domElements.searchResultsLoader.classList.remove(\"d-none\");\n                try {\n                    const response = await fetch(query);\n                    if (!response.ok) throw new Error(\"Data not found\");\n                    const data = await response.json();\n                    this.domElements.searchResultsLoader.classList.add(\"d-none\");\n                    this.showBookingOptions(data, params);\n                } catch (error) {\n                    throw error;\n                }\n            });\n        });\n    }\n    showBookingOptions(results, params) {\n        const { bestFlights: bestFlights, otherFlights: otherFlights } = this.domElements;\n        const bookingOptions = results.booking_options || [];\n        const selectedFlights = results.selected_flights || [];\n        if (selectedFlights.length < 0) {\n            // Clear any existing content and add \"No results\" message\n            bestFlights.innerHTML = \"\";\n            bestFlights.innerHTML = `\n       <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\n            No results\n        </div>\n      `;\n        } else {\n            // Clear any existing content\n            bestFlights.innerHTML = \"\";\n            bestFlights.innerHTML = `<h3 class=\"text-center py-3\">Selected Flights</h3>`;\n            selectedFlights.forEach((flight)=>{\n                bestFlights.innerHTML += `\n         <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\n          ${(0, $964bf997095f0af1$export$2e2bcd8739ae039)(results, flight)}\n          </div>\n        `;\n            });\n        }\n        if (bookingOptions.length > 0) {\n            otherFlights.innerHTML = \"\";\n            otherFlights.innerHTML = `<h3 class=\"text-center py-3\">Booking Options</h3>`;\n            bookingOptions.forEach((option)=>{\n                otherFlights.innerHTML += `\n        <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\n        ${(0, $fb9992c631150e99$export$2e2bcd8739ae039)(option)}\n        </div>\n          `;\n            });\n        }\n        this.chooseBookingOption(params, selectedFlights);\n    }\n    chooseBookingOption(params, selectedFlights) {\n        const bookFlightButtons = document.querySelectorAll(\".btn-book-flight\");\n        if (bookFlightButtons.length > 0) bookFlightButtons.forEach((button)=>{\n            button.addEventListener(\"click\", (event)=>{\n                let bookingOption = event.target.getAttribute(\"data-book-with\");\n                let price = event.target.getAttribute(\"data-price\");\n                //store the data in the localstorage\n                localStorage.removeItem(\"booking-data\");\n                localStorage.setItem(\"booking-data\", JSON.stringify(params));\n                localStorage.removeItem(\"selected-flights-data\");\n                localStorage.setItem(\"selected-flights-data\", JSON.stringify(selectedFlights));\n                localStorage.removeItem(\"booking-option-data\");\n                localStorage.setItem(\"booking-option-data\", JSON.stringify({\n                    bookingOption: bookingOption,\n                    price: price\n                }));\n            });\n        });\n    }\n}\n\n\nconst $ce7e6a9fffbcf417$var$BookingForm = (countriesList, bookingOption, bookingData, selectedFlightsData)=>{\n    let tax = bookingOption.price * 0.05;\n    let subtotal = bookingOption.price - tax;\n    let adults = bookingData.adults || 0;\n    let children = bookingData.children || 0;\n    let infants = bookingData.infants_in_seat || 0;\n    let flightsLength = selectedFlightsData[0].flights.length;\n    let numOfPassengers = parseInt(adults) + parseInt(children) + parseInt(infants);\n    let departureDate = $ce7e6a9fffbcf417$var$formatDate(selectedFlightsData[0].flights[0].departure_airport.time);\n    let arrivalDate = \"\";\n    selectedFlightsData[0].flights.length > 1 ? arrivalDate = $ce7e6a9fffbcf417$var$formatDate(selectedFlightsData[1].flights[0].departure_airport.time) : arrivalDate = $ce7e6a9fffbcf417$var$formatDate(selectedFlightsData[1].flights[0].departure_airport.time);\n    return ` \n<div class=\"container-sm p-3 border flight-booking\">\n      <div class=\"card p-3\">\n        <div class=\"row\">\n          <div>\n            <h4>Flight Summary</h4>\n          </div>\n        </div>\n      </div>\n      <section class=\"flight-summary-section\">\n        <div class=\"form-content margin mt-2\">\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div class=\"card p-3 h-100\">\n                <div class=\"d-flex justify-content-between align-items-center\">\n                  <div class=\"\">\n                    <span>${selectedFlightsData[0].type}</span\n                    ><span>\n                      - <span>${numOfPassengers}</span> passenger(s)</span\n                    >\n                  </div>\n                  <div class=\"\">\n                    <button class=\"btn btn-revise\">\n                      <i class=\"bi bi-pencil-square\"></i> Revise Trip\n                    </button>\n                  </div>\n                </div>\n                <div class=\"\">\n                  <div class=\"card p-3 mt-3\">\n                    <div class=\"data\">\n                      <span class=\"fw-bold\"\n                        >${selectedFlightsData[0].flights[0].departure_airport.name} - ${selectedFlightsData[0].flights[0].departure_airport.id}</span\n                      >\n                    </div>\n                    <div class=\"subdata\">\n                      <span class=\"\">${departureDate}</span>\n                    </div>\n                  </div>\n                  <div class=\"card p-3 mt-3\">\n                    <div class=\"data\">\n                      <span class=\"fw-bold\"\n                        >${selectedFlightsData[0].flights.length > 1 ? selectedFlightsData[0].flights[1].arrival_airport.name : selectedFlightsData[0].flights[0].arrival_airport.name} - ${selectedFlightsData[0].flights.length > 1 ? selectedFlightsData[0].flights[1].arrival_airport.id : selectedFlightsData[0].flights[0].arrival_airport.id}</span\n                      >\n                    </div>\n                    <div class=\"subdata\">${arrivalDate}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-6\">\n              <div class=\"card p-3\">\n                <div class=\"p-3 card\">\n                  <div class=\"row\">\n                    <div class=\"col-6\">Fare</div>\n                    <div class=\"col-6\"><span>CAD $${subtotal}</span></div>\n                  </div>\n                  <div class=\"row py-3\">\n                    <div class=\"col-6\">Taxes and fees</div>\n                    <div class=\"col-6\">\n                      <span>CAD $${tax.toFixed(2)}</span>\n                    </div>\n                  </div>\n                  <div class=\"row pb-2\">\n                    <div class=\"col-6\">Total</div>\n                    <div class=\"col-6\">\n                      <span>CAD $${bookingOption.price}</span>\n                    </div>\n                  </div>\n                  <div>\n                    <span class=\"subdata\"\n                      >Includes taxes and carrier-imposed fees\n                    </span>\n                  </div>\n                </div>\n                <div class=\"pt-3 row text-center\">\n                  <div class=\"d-flex flex-column gap-1 col-6\">\n                    <span class=\"fw-bold\">Already a member?</span>\n                    <button class=\"btn btn-outline-dark btn-signin w-75 m-auto\">\n                      Sign In\n                    </button>\n                  </div>\n                  <div class=\"d-flex flex-column gap-1 col-6\">\n                    <span class=\"fw-bold\">or</span>\n                    <button class=\"btn btn-checkout btn-dark w-75 m-auto\">\n                      Checkout as a Guest\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      <!-- Login Form -->\n      <div\n        class=\"container-sm p-3 border mt-3 d-none\"\n        id=\"signin-form-container\"\n      >\n        <section class=\"vh-75\">\n          <div class=\"container py-3 h-100\">\n            <div class=\"row d-flex justify-content-center pt-3 h-100\">\n              <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n                <div class=\"card login-card\" style=\"border-radius: 1rem\">\n                  <div class=\"card-body py-3 px-5 text-center\">\n                    <form id=\"signin-form\">\n                      <div class=\"mb-md-5 mt-md-4 pb-2\">\n                        <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\n                        <p class=\"mb-5\">\n                          Please enter your login and password!\n                        </p>\n\n                        <div\n                          data-mdb-input-init\n                          class=\"form-outline form-white mb-4\"\n                        >\n                          <input\n                            type=\"text\"\n                            id=\"login-username\"\n                            name=\"login-username\"\n                            placeholder=\"username\"\n                            class=\"form-control form-control-lg\"\n                          />\n                          <div\n                            id=\"invalid-login-username\"\n                            class=\"invalid-feedback text-dark\"\n                          >\n                            <i class=\"bi bi-exclamation-triangle\"></i>\n                            <span class=\"\">Invalid Username</span>\n                          </div>\n                        </div>\n\n                        <div\n                          data-mdb-input-init\n                          class=\"form-outline form-white mb-4\"\n                        >\n                          <input\n                            placeholder=\"password\"\n                            type=\"password\"\n                            name=\"login-password\"\n                            id=\"login-password\"\n                            class=\"form-control form-control-lg\"\n                          />\n                          <div\n                            id=\"invalid-login-password\"\n                            class=\"invalid-feedback text-dark\"\n                          >\n                            <i class=\"bi bi-exclamation-triangle\"></i>\n                            <span>Invalid Password</span>\n                          </div>\n                        </div>\n\n                        <p class=\"small mb-3 pb-lg-2\">\n                          <a class=\"text-dark\" href=\"#!\">Forgot password?</a>\n                        </p>\n\n                        <button\n                          class=\"btn btn-dark btn-lg px-5 btn-submit\"\n                          type=\"submit\"\n                        >\n                          Login\n                        </button>\n\n                        <div\n                          class=\"d-flex justify-content-center text-center mt-4 pt-1\"\n                        >\n                          <a href=\"#!\" class=\"text-dark\"\n                            ><i class=\"fab fa-facebook-f fa-lg\"></i\n                          ></a>\n                          <a href=\"#!\" class=\"text-dark\"\n                            ><i class=\"fab fa-twitter fa-lg mx-4 px-2\"></i\n                          ></a>\n                          <a href=\"#!\" class=\"text-dark\"\n                            ><i class=\"fab fa-google fa-lg\"></i\n                          ></a>\n                        </div>\n                      </div>\n\n                      <div>\n                        <p class=\"mb-0\">\n                          Don't have an account?\n                          <a href=\"#!\" class=\"fw-bold\">Sign Up</a>\n                        </p>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n\n      <div class=\"section-header py-3 border-bottom border-secondary-subttle\">\n        <div class=\"card p-3\">\n          <div class=\"row\">\n            <div class=\"col-9\">\n              <h4>Primary Passenger</h4>\n            </div>\n            <div class=\"col-3\">\n              <select class=\"form-select\">\n                <option value=\"Adult\" selected>\n                  Adult (12 years and older)\n                </option>\n                <option value=\"Child\">Child (2-12 years old)</option>\n                <option value=\"Infant\">Infant (Up to 2 years old)</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sections-container\">\n        <div>\n          <div\n            class=\"border-start-5 alert alert-info d-flex align-items-center\"\n            role=\"alert\"\n          >\n            <i class=\"bi bi-info-circle-fill me-3\"></i>\n            <span>\n              To avoid boarding complications, enter all names and surnames\n              <strong>exactly as they appear in your passport/ID.</strong>\n            </span>\n          </div>\n        </div>\n        <section class=\"border-bottom\">\n          <div class=\"form-content margin\">\n            <div class=\"main-passenger-row\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <div class=\"card p-3\">\n                    <div class=\"\">\n                      <label for=\"name\" class=\"form-label\"> Name </label>\n                      <input type=\"text\" class=\"form-control\" id=\"name\" />\n                      <div id=\"invalid-name\" class=\"invalid-feedback\">\n                        <i class=\"bi bi-exclamation-triangle\"></i>\n                        <span>Invalid Name</span>\n                      </div>\n                    </div>\n                    <div class=\"py-3\">\n                      <label for=\"middle-name\" class=\"form-label text-black-50\">\n                        Middle Name (optional)\n                      </label>\n                      <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        id=\"middle-name\"\n                      />\n                    </div>\n                    <div class=\"\">\n                      <label for=\"last-name\" class=\"form-label\">\n                        Last Name\n                      </label>\n                      <input type=\"text\" class=\"form-control\" id=\"last-name\" />\n                      <div id=\"invalid-last-name\" class=\"invalid-feedback\">\n                        <i class=\"bi bi-exclamation-triangle\"></i>\n                        <span>Invalid Last Name</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-6\">\n                  <div class=\"card p-3\">\n                    <div class=\"\">\n                      <label for=\"nationality\" class=\"form-label\">\n                        Nationality\n                      </label>\n                      <div class=\"input-group\">\n                        <span class=\"input-group-text\">\n                          <i class=\"bi bi-globe-americas\"></i>\n                        </span>\n                        <input\n                          type=\"text\"\n                          class=\"form-control\"\n                          list=\"nationality-options\"\n                          id=\"nationality\"\n                        />\n                        <div id=\"invalid-nationality\" class=\"invalid-feedback\">\n                          <i class=\"bi bi-exclamation-triangle\"></i>\n                          <span>Invalid Nationality</span>\n                        </div>\n                        <datalist id=\"nationality-options\"></datalist>\n                      </div>\n                    </div>\n                    <div class=\"py-3\">\n                      <label for=\"gender\" class=\"form-label\"> Gender </label>\n                      <div class=\"input-group\">\n                        <span class=\"input-group-text\">\n                          <i class=\"bi bi-gender-ambiguous\"></i>\n                        </span>\n                        <select class=\"form-control form-select\" id=\"gender\">\n                          <option value=\"0\">Select...</option>\n                          <option value=\"M\">Male</option>\n                          <option value=\"F\">Female</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"\">\n                      <label for=\"birth-date\" class=\"form-label\">\n                        Date of Birth\n                      </label>\n                      <div class=\"input-group\">\n                        <span class=\"input-group-text\">\n                          <i class=\"bi-calendar\"></i>\n                        </span>\n                        <input\n                          type=\"date\"\n                          class=\"form-control\"\n                          id=\"birth-date\"\n                        />\n                        <div id=\"invalid-birth-date\" class=\"invalid-feedback\">\n                          <i class=\"bi bi-exclamation-triangle\"></i>\n                          <span>Invalid Date</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"registration-suggestion py-3\">\n                <div\n                  class=\"border-start-5 alert alert-info d-flex align-items-center\"\n                  role=\"alert\"\n                >\n                  <i class=\"bi bi-info-circle-fill me-3\"></i>\n                  <span\n                    >Want to\n                    <a\n                      href=\"#register-button-container\"\n                      class=\"link-registration fw-bold\"\n                      >register</a\n                    >\n                    for a better experience?</span\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"pt-4\">\n            <div class=\"card p-3\">\n              <h4 class=\"pb-3\">Check your baggage</h4>\n            </div>\n            <div class=\"py-3\">\n              <div\n                class=\"border-start-5 alert alert-info d-flex align-items-center\"\n                role=\"alert\"\n              >\n                <i class=\"bi bi-info-circle-fill me-3\"></i>\n                <span>\n                  Make sure to check the dimenssions and weight for the carry-on\n                  baggage allowance\n                </span>\n              </div>\n            </div>\n            <div>\n              <div class=\"container card p-3\">\n                <div class=\"card p-3 mb-3\">\n                  <div class=\"row\">\n                    <div class=\"col-8\">\n                      <div class=\"data\">\n                        <h5>Carry-on baggage</h5>\n                      </div>\n                      <div class=\"subdata\">\n                        <i class=\"bi bi-backpack text-success\"></i> 1 Added\n                        suitcase (15 kg), per passenger, round trip\n                      </div>\n                    </div>\n                    <div class=\"col-4\"></div>\n                  </div>\n                </div>\n                <div class=\"card p-3 mb-3\">\n                  <div class=\"row\">\n                    <div class=\"col-8\">\n                      <div class=\"data\">\n                        <h5>Checked baggage</h5>\n                      </div>\n                      <div class=\"subdata\">\n                        <i\n                          class=\"bi bi-suitcase2 text-danger icon-checked-baggage\"\n                        ></i>\n                        <span class=\"added-checked-baggage\">Not included</span>\n                      </div>\n                    </div>\n                    <div class=\"col-2 text-center\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control checked-baggage-count\"\n                        value=\"0\"\n                      />\n                    </div>\n                    <div class=\"col-2 text-center\">\n                      <button class=\"btn btn-dark px-5 btn-add-checked-baggage\">\n                        Add\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"card p-3\">\n                  <div class=\"row\">\n                    <div class=\"col-8\">\n                      <div class=\"data\">\n                        <h5>Special baggage</h5>\n                      </div>\n                      <div class=\"subdata\">\n                        <i\n                          class=\"bi bi-suitcase2 text-danger icon-special-baggage\"\n                        ></i>\n                        <span class=\"added-special-baggage\">Not included</span>\n                      </div>\n                    </div>\n                    <div class=\"col-2 text-center\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control special-baggage-count\"\n                        value=\"0\"\n                      />\n                    </div>\n                    <div class=\"col-2 text-center\">\n                      <button class=\"btn btn-dark px-5 btn-add-special-baggage\">\n                        Add\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div></div>\n              <div></div>\n              <div></div>\n            </div>\n          </div>\n        </section>\n\n        <div class=\"card mt-4\">\n          <div class=\"p-3\">\n            <h4>Contact & additional information</h4>\n          </div>\n        </div>\n        <div class=\"pt-3\">\n          <div\n            class=\"border-start-5 alert alert-info d-flex align-items-center\"\n            role=\"alert\"\n          >\n            <i class=\"bi bi-info-circle-fill me-3\"></i>\n            <span>\n              Information provided should be for the primary passenger.\n            </span>\n          </div>\n        </div>\n        <section class=\"py-3\">\n          <div class=\"card p-3\">\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <div>\n                  <label class=\"form-label\" for=\"phone-type\">\n                    Phone Type\n                  </label>\n                  <select class=\"form-select\" id=\"phone-type\">\n                    <option value=\"Mobile\" selected>Mobile</option>\n                    <option value=\"Home\">Home</option>\n                    <option value=\"Office\">Office</option>\n                  </select>\n                </div>\n                <div class=\"py-3\">\n                  <label class=\"form-label\" for=\"phone-number\">\n                    Phone Number\n                  </label>\n                  <div class=\"input-group\">\n                    <select\n                      class=\"form-select input-group-text select-dial-code\"\n                    >\n                      ${countriesList.map((country)=>{\n        const suffix = country.idd && country.idd.suffixes && country.idd.suffixes.length > 0 ? country.idd.suffixes[0] : \"\";\n        return `\n                      <option value=\"${country.idd.root}\" class=\"country-codes\">\n                        ${country.name.common} (${country.idd.root}${suffix})\n                      </option>\n                      `;\n    }).join()}\n                    </select>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"phone-number\"\n                      placeholder=\"10-digit-number\"\n                    />\n                    <div\n                      id=\"invalid-phone-number\"\n                      class=\"invalid-feedback text-dark\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span>Invalid Phone Number</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-6\">\n                <div>\n                  <label class=\"form-label\" for=\"airmiles\">\n                    Airmiles or other program (optional)\n                  </label>\n                  <select class=\"form-select\" id=\"airmiles\">\n                    <option value=\"Mobile\" selected>Mobile</option>\n                    <option value=\"Home\">Home</option>\n                    <option value=\"Office\">Office</option>\n                  </select>\n                </div>\n                <div class=\"py-3\">\n                  <label class=\"form-label\" for=\"email\">\n                    Email<span class=\"text-danger\">*</span>\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    placeholder=\"youremail@example.com\"\n                    class=\"form-control\"\n                  />\n                  <div id=\"invalid-email\" class=\"invalid-feedback text-danger\">\n                    <i class=\"bi bi-exclamation-triangle\"></i>\n                    <span>Invalid email</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"d-none\" id=\"register-button-container\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <div class=\"py-3\">\n                    <label class=\"form-label\" for=\"username\">\n                      Username<span class=\"text-danger\">*</span>\n                    </label>\n                    <input type=\"text\" id=\"username\" class=\"form-control\" />\n                    <div\n                      id=\"invalid-username\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span>Invalid username</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-6\">\n                  <div class=\"py-3\">\n                    <label class=\"form-label\" for=\"password\">\n                      Password<span class=\"text-danger\">*</span>\n                    </label>\n                    <input type=\"text\" id=\"password\" class=\"form-control\" />\n                    <div\n                      id=\"invalid-password\"\n                      class=\"invalid-feedback text-danger\"\n                    >\n                      <i class=\"bi bi-exclamation-triangle\"></i>\n                      <span>Invalid Password</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"w-50 m-auto pt-3\">\n                <button class=\"btn btn-dark btn-register w-100\">\n                  Register\n                </button>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>`;\n};\nfunction $ce7e6a9fffbcf417$var$formatDate(dateString) {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"en-US\", {\n        weekday: \"long\",\n        day: \"numeric\",\n        month: \"long\",\n        year: \"numeric\"\n    }) + ` - ${date.toLocaleTimeString(\"en-US\", {\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        hour12: true\n    })}`;\n}\nvar $ce7e6a9fffbcf417$export$2e2bcd8739ae039 = $ce7e6a9fffbcf417$var$BookingForm;\n\n\n\n\nconst $c4a02edd7d4f4ac1$var$emailBody = (name)=>{\n    let pinCode = $c4a02edd7d4f4ac1$var$getRandomNums(0, 9, 4);\n    let clientReferenceFirstSegment = $c4a02edd7d4f4ac1$var$getRandomNums(0, 9, 2);\n    let clientReferenceSecondSegment = $c4a02edd7d4f4ac1$var$getRandomNums(0, 9, 9);\n    let bookingReference = $c4a02edd7d4f4ac1$var$getRandomLetters(6);\n    return `\n  <!DOCTYPE html>\n  <html>\n  <head>\n    <style>\n      body {\n        font-family: Arial, sans-serif;\n        color: #333;\n        margin: 0;\n        padding: 20px;\n      }\n      .email-container {\n        max-width: 600px;\n        margin: 0 auto;\n        background: #f9f9f9;\n        border: 1px solid #ddd;\n        border-radius: 8px;\n        padding: 20px;\n      }\n      h1, p {\n        margin: 0;\n        padding-bottom: 10px;\n      }\n      .section {\n        margin-bottom: 20px;\n        margin-top: 20px;\n      }\n      .section-title {\n        font-weight: bold;\n        border-bottom: 1px dashed #ddd;\n        margin: 0 0 10px 0;\n        padding-bottom: 5px;\n      }\n      .detail-row {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 10px;\n      }\n      .label {\n        font-weight: bold;\n      }\n      .footer {\n        margin-top: 20px;\n        font-size: 0.9em;\n        color: #777;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"email-container\">\n      <div class=\"section\">\n        <h1>Details of Your Flight Booking</h1>\n        <p>Hi <strong>${name}</strong>,</p>\n        <p><br>Thank you for booking your flight with us!</p>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-title\">Booking References</div>\n        <div>\n          <div class=\"detail-row\">\n            <div class=\"label\">Outbound Flight:</div>\n            <div>${bookingReference.join(\"\")}</div>\n          </div>\n          <div class=\"detail-row\">\n            <div class=\"label\">Return Flight:</div>\n            <div>${bookingReference.join(\"\")}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-title\">Customer Reference and PIN</div>\n        <div>\n          <div class=\"detail-row\">\n            <div class=\"label\">Customer Reference:</div>\n            <div>${clientReferenceFirstSegment.join(\"\")}-${clientReferenceSecondSegment.join(\"\")}</div>\n          </div>\n          <div class=\"detail-row\">\n            <div class=\"label\">PIN Code:</div>\n            <div>${pinCode.join(\"\")}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-title\">Your Flight Details</div>\n        <div>\n          <div class=\"detail-row\">\n            <div class=\"label\">Departure Airport:</div>\n            <div>Departure Date</div>\n          </div>\n          <div class=\"detail-row\">\n            <div class=\"label\">Destination Airport:</div>\n            <div>Return Date</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <p>If you have any questions, feel free to contact our customer support.</p>\n        <p>Safe travels!</p>\n      </div>\n      <p class=\"footer\">Best regards,<br><strong>BVC Airlines Team</strong></p>\n    </div>\n  </body>\n  </html>\n`;\n};\n/**\r\n * generate random numbers to simulate a customer reference number and PIN\r\n * normally used for contacting customer service\r\n * @param {*} min\r\n * @param {*} max\r\n * @param {*} count\r\n * @returns\r\n */ function $c4a02edd7d4f4ac1$var$getRandomNums(min, max, count) {\n    const randomNumbers = [];\n    for(let i = 0; i < count; i++)randomNumbers.push(Math.floor(Math.random() * (max - min)) + min);\n    return randomNumbers;\n}\n/**\r\n * Generate a set of random letters to simulate the booking confimration\r\n * @param {*} count\r\n * @returns\r\n */ function $c4a02edd7d4f4ac1$var$getRandomLetters(count) {\n    const alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    const randomLetters = [];\n    for(let i = 0; i < count; i++){\n        const randomIndex = Math.floor(Math.random() * alphabet.length);\n        randomLetters.push(alphabet[randomIndex]);\n    }\n    return randomLetters;\n}\nvar $c4a02edd7d4f4ac1$export$2e2bcd8739ae039 = $c4a02edd7d4f4ac1$var$emailBody;\n\n\nclass $0a4bffb4769d283d$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Booking Form\");\n        this.autocompleteTimeout = 300;\n        this.autocompleteTimeoutHandle = 0;\n        this.nacionalitiesList = [];\n        this.phoneCountryCodesList = [];\n        this.countryNames = {};\n        this.specialBaggage = 0;\n        this.checkedBaggage = 0;\n    }\n    async getHtml() {\n        await this.fetchCountriesData();\n        //get booking information from the localstorage\n        let bookingOption = JSON.parse(localStorage.getItem(\"booking-option-data\")) || \"\";\n        let bookingData = JSON.parse(localStorage.getItem(\"booking-data\")) || \"\";\n        let selectedFlightsData = JSON.parse(localStorage.getItem(\"selected-flights-data\"));\n        return `\n     <div class=\"html-container\">\n     ${(0, $ce7e6a9fffbcf417$export$2e2bcd8739ae039)(this.nacionalitiesList, bookingOption, bookingData, selectedFlightsData)}     \n     </div>\n        \n        `;\n    }\n    async postRender() {\n        await this.fetchCountriesData();\n        this.initializeElements();\n        const { nationalityInput: nationalityInput, formInputs: formInputs, nationalityOptions: nationalityOptions } = this.domElements;\n        /*   document.body.addEventListener(\"change\", () => {\r\n      clearTimeout(this.autocompleteTimeoutHandle);\r\n    });\r\n */ nationalityInput.addEventListener(\"input\", ()=>{\n            this.autocomplete(nationalityInput, nationalityOptions, this.countryNames);\n        });\n        /**\r\n     * Add event listeners to all inputs to handle feedback messages\r\n     */ formInputs.forEach((input)=>{\n            input.addEventListener(\"input\", ()=>{\n                const inputId = input.id;\n                const messageElement = document.querySelector(`#invalid-${inputId}`);\n                if (input.value && messageElement) messageElement.classList.remove(\"d-block\");\n            });\n        });\n    }\n    initializeElements() {\n        this.domElements = {\n            nameInput: document.getElementById(\"name\"),\n            middleNameInput: document.getElementById(\"middle-name\"),\n            lastNameInput: document.getElementById(\"last-name\"),\n            selectGender: document.getElementById(\"gender\"),\n            selectDate: document.getElementById(\"birth-date\"),\n            nationalityOptions: document.getElementById(\"nationality-options\"),\n            nationalityInput: document.getElementById(\"nationality\"),\n            selectDialCode: document.querySelector(\".select-dial-code\"),\n            btnCheckOut: document.querySelector(\".btn-checkout\"),\n            btnSignIn: document.querySelector(\".btn-signin\"),\n            phoneTypeInput: document.getElementById(\"phone-type\"),\n            phoneInput: document.getElementById(\"phone-number\"),\n            emailInput: document.getElementById(\"email\"),\n            btnAddCheckedBaggage: document.querySelector(\".btn-add-checked-baggage\"),\n            btnAddSpecialBaggage: document.querySelector(\".btn-add-special-baggage\"),\n            specialBaggageCount: document.querySelector(\".special-baggage-count\"),\n            checkedBaggageCount: document.querySelector(\".checked-baggage-count\"),\n            addedSpecialBaggage: document.querySelector(\".added-special-baggage\"),\n            addedCheckedBaggage: document.querySelector(\".added-checked-baggage\"),\n            iconCheckedBaggage: document.querySelector(\".icon-checked-baggage\"),\n            iconSpecialBaggage: document.querySelector(\".icon-special-baggage\"),\n            signInFormContainer: document.getElementById(\"signin-form-container\"),\n            logoutButton: document.querySelector(\".btn-logout\"),\n            btnSubmit: document.querySelector(\".btn-submit\"),\n            logInForm: document.getElementById(\"signin-form\"),\n            logInUsernameInput: document.getElementById(\"login-username\"),\n            logInPasswordInput: document.getElementById(\"login-password\"),\n            usernameLabel: document.querySelector(\".user-name-label\"),\n            gotoRegistrationLink: document.querySelector(\".link-registration\"),\n            registerButtonContainer: document.getElementById(\"register-button-container\"),\n            registrationSuggestion: document.querySelector(\".registration-suggestion\"),\n            usernameInput: document.getElementById(\"username\"),\n            passwordInput: document.getElementById(\"password\"),\n            btnRegister: document.querySelector(\".btn-register\"),\n            invalidName: document.getElementById(\"invalid-name\"),\n            invalidLastName: document.getElementById(\"invalid-last-name\"),\n            invalidNationality: document.getElementById(\"invalid-nationality\"),\n            invalidDate: document.getElementById(\"invalid-birth-date\"),\n            invalidEmail: document.getElementById(\"invalid-email\"),\n            invalidUsername: document.getElementById(\"invalid-username\"),\n            invalidPassword: document.getElementById(\"invalid-password\"),\n            formInputs: document.querySelectorAll(\"input\")\n        };\n        this.getBaggageDetails();\n        this.handleSignInButton();\n        this.handleSignInForm();\n        this.gotoRegister();\n        this.registerUser();\n        this.handleLogoutButton();\n        this.handleFormData();\n    }\n    autocomplete(input, datalist, countryNames) {\n        clearTimeout(this.autocompleteTimeoutHandle);\n        this.autocompleteTimeoutHandle = setTimeout(async ()=>{\n            try {\n                let matches = this.nacionalitiesList.filter((nationality)=>{\n                    const regex = new RegExp(input, \"gi\");\n                    return nationality.name.common.match(regex);\n                });\n                datalist.textContent = \"\";\n                matches.forEach((entry)=>{\n                    countryNames[entry.name.common.toLowerCase()] = entry.name.common;\n                    datalist.insertAdjacentHTML(\"beforeend\", `<option value=\"${entry.name.common}\">${entry.flag} ${entry.name.common}</option>`);\n                });\n            } catch (error) {\n                console.error(error);\n            }\n        }, this.autocompleteTimeout);\n    }\n    async fetchCountriesData() {\n        try {\n            const response = await (0, $55510dd80b4e0306$export$7a171f172be0782e)(\"https://restcountries.com/v3.1/all?dields=name,flag,idd\");\n            this.nacionalitiesList = response.sort((a, b)=>{\n                if (a.name.common < b.name.common) return -1;\n                if (a.name.common > b.name.common) return 1;\n                return 0;\n            });\n        } catch (error) {\n            console.error(error);\n        }\n    }\n    /* TODO: make this the main function to handle the form\r\n   * and add fields validation\r\n   */ handleFormData(userId) {\n        const { btnCheckOut: btnCheckOut, nameInput: nameInput, middleNameInput: middleNameInput, lastNameInput: lastNameInput, nationalityInput: nationalityInput, selectGender: selectGender, selectDate: selectDate, selectDialCode: selectDialCode, phoneInput: phoneInput, emailInput: emailInput } = this.domElements;\n        btnCheckOut.addEventListener(\"click\", async (event)=>{\n            event.preventDefault();\n            // Retrieve data from localStorage\n            const bookingOption = JSON.parse(localStorage.getItem(\"booking-option-data\"));\n            const selectedFlightsData = JSON.parse(localStorage.getItem(\"selected-flights-data\"));\n            const bookingData = JSON.parse(localStorage.getItem(\"booking-data\"));\n            console.log(bookingOption);\n            if (!bookingOption || !selectedFlightsData || !bookingData) {\n                console.error(\"Missing booking option or selected flights data\");\n                return;\n            }\n            // Calculate tax and subtotal\n            let tax = bookingOption.price * 0.05;\n            let subtotal = bookingOption.price - tax;\n            // Booking data\n            const adults = bookingData.adults || 0;\n            const children = bookingData.children || 0;\n            const infants = bookingData.infants_in_seat || 0;\n            const numOfPassengers = parseInt(adults) + parseInt(children) + parseInt(infants);\n            console.log(\"Passengers:\", numOfPassengers);\n            // Flight dates\n            let departureDate = selectedFlightsData[0].flights[0].departure_airport.time;\n            let arrivalDate = selectedFlightsData[0].flights.length > 1 ? selectedFlightsData[0].flights[1].departure_airport.time : departureDate;\n            try {\n                // Insert Booking\n                const bookingTableData = {\n                    Price: bookingOption.price,\n                    NumberOfPassengers: numOfPassengers,\n                    DepartureDate: departureDate,\n                    BookingOption: bookingOption.bookingOption,\n                    ArrivalDate: arrivalDate\n                };\n                const bookingResponse = await fetch(\"/query/Booking\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        data: bookingTableData\n                    })\n                });\n                if (!bookingResponse.ok) throw new Error(\"Failed to insert booking\");\n                const bookingResult = await bookingResponse.json();\n                console.log(\"Booking inserted successfully:\", bookingResult);\n                const bookingID = bookingResult.BookingID;\n                if (!bookingID) throw new Error(\"BookingID not returned\");\n                const countryName = nationalityInput.value;\n                let countryID = null;\n                const countryResponse = await fetch(`/query?countryName=${countryName}`);\n                const countryData = await countryResponse.json();\n                countryID = countryData.CountryID;\n                console.log(countryID);\n                if (!countryID) throw new Error(\"Country ID not found\");\n                //Insert Passenger\n                const passengerData = {\n                    BookingID: bookingID,\n                    FirstName: nameInput.value,\n                    MiddleName: middleNameInput.value,\n                    LastName: lastNameInput.value,\n                    CountryID: countryID,\n                    Gender: selectGender.value,\n                    DateOfBirth: selectDate.value,\n                    RegisterUserID: userId\n                };\n                const passengerResponse = await fetch(\"/query/Passenger\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        data: passengerData\n                    })\n                });\n                if (!passengerResponse.ok) throw new Error(\"Failed to insert passenger\");\n                const passengerResult = await passengerResponse.json();\n                console.log(\"Passenger inserted successfully:\", passengerResult);\n                // Save passenger name to local storage\n                const name = nameInput.value;\n                localStorage.setItem(\"name\", JSON.stringify(name));\n                const passengerID = passengerResult.PassengerID;\n                if (!passengerID) throw new Error(\"PassengerID not returned\");\n                //Flight Airports\n                let departureAirport = selectedFlightsData[0].flights[0].departure_airport.name;\n                let arrivalAirport = selectedFlightsData[0].flights[1].arrival_airport.name;\n                let travelClass = selectedFlightsData[0].flights[0].travel_class;\n                // Insert Flight\n                const flightData = {\n                    BookingID: bookingID,\n                    FlightType: selectedFlightsData[0].type,\n                    TravelClass: travelClass,\n                    DepartureAirportID: bookingData.departure_id,\n                    DepartureAirportName: departureAirport,\n                    DepartureDateTime: departureDate,\n                    ArrivalAirportID: bookingData.arrival_id,\n                    ArrivalAirportName: arrivalAirport,\n                    ArrivalDateTime: arrivalDate\n                };\n                const flightResponse = await fetch(\"/query/Flight\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        data: flightData\n                    })\n                });\n                if (!flightResponse.ok) throw new Error(\"Failed to insert flight\");\n                const flightResult = await flightResponse.json();\n                console.log(\"Flight inserted successfully:\", flightResult);\n                const flightID = flightResult.FlightID;\n                if (!flightID) throw new Error(\"FlightID not returned\");\n                /* TODO:Need to refactor to make only one POST request\r\n         *  for that will need to modify the server query to accept arrays\r\n         *  to inster more  than one record at a time\r\n         */ let baggageStatus = \"Not included\";\n                if (this.checkedBaggage > 0) {\n                    baggageStatus = \"Added\";\n                    const baggageDataArray = [];\n                    for(let i = 0; i < this.checkedBaggage; i++){\n                        // Insert Checked Baggage\n                        const baggageData = {\n                            PassengerID: passengerID,\n                            Weight: 23.5,\n                            BaggageType: \"Checked\",\n                            Status: baggageStatus\n                        };\n                        baggageDataArray.push(baggageData);\n                        console.log(baggageDataArray[i]);\n                        try {\n                            const baggageResponse = await fetch(\"/query/Baggage\", {\n                                method: \"POST\",\n                                headers: {\n                                    \"Content-Type\": \"application/json\"\n                                },\n                                body: JSON.stringify({\n                                    data: baggageDataArray[i]\n                                })\n                            });\n                            if (!baggageResponse.ok) throw new Error(\"Failed to insert baggage\");\n                            const baggageResult = await baggageResponse.json();\n                            console.log(\"Baggage inserted successfully:\", baggageResult);\n                        } catch (error) {\n                            console.error(\"Error inserting baggage:\", error);\n                        }\n                    }\n                }\n                // Insert Contact\n                const contactData = {\n                    PassengerID: passengerID,\n                    PhoneType: \"Mobile\",\n                    PhoneNumber: `${selectDialCode.value} ${phoneInput.value}`,\n                    Email: emailInput.value\n                };\n                const contactResponse = await fetch(\"/query/Contact\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        data: contactData\n                    })\n                });\n                if (!contactResponse.ok) throw new Error(\"Failed to insert Contact\");\n                const contactResult = await contactResponse.json();\n                console.log(\"Contact inserted successfully:\", contactResult);\n                console.log(\"All records inserted successfully!\");\n            } catch (error) {\n                console.error(\"Error during insertion chain:\", error);\n            }\n            this.sendBookingConfirmation();\n            alert(\"Transaction Complete\");\n            // Redirect to booking confirmation page\n            window.location.href = \"/booking-confirmation\";\n        });\n    }\n    /**\r\n   * format dates\r\n   * @param {*} date\r\n   * @returns\r\n   */ formatDate(date) {\n        const [formattedDate] = date.toISOString().split(\"T\");\n        return formattedDate;\n    }\n    insertPassenger(countryId, registration) {\n        // Collect passenger data\n        const passengerData = {\n            FirstName: document.getElementById(\"name\").value,\n            MiddleName: document.getElementById(\"middle-name\").value,\n            LastName: document.getElementById(\"last-name\").value,\n            CountryID: countryId,\n            Gender: document.getElementById(\"gender-input\").value,\n            DateOfBirth: document.getElementById(\"birth-date\").value,\n            isRegistered: registration\n        };\n    }\n    reset() {\n        const { btnCheckOut: btnCheckOut, nameInput: nameInput, middleNameInput: middleNameInput, lastNameInput: lastNameInput, nationalityInput: nationalityInput, selectGender: selectGender, selectDate: selectDate, selectDialCode: selectDialCode, phoneInput: phoneInput } = this.domElements;\n    }\n    getBaggageDetails() {\n        const { specialBaggageCount: specialBaggageCount, checkedBaggageCount: checkedBaggageCount, btnAddCheckedBaggage: btnAddCheckedBaggage, btnAddSpecialBaggage: btnAddSpecialBaggage, addedCheckedBaggage: addedCheckedBaggage, addedSpecialBaggage: addedSpecialBaggage, iconCheckedBaggage: iconCheckedBaggage, iconSpecialBaggage: iconSpecialBaggage } = this.domElements;\n        //let passengerName = `${nameInput.value}+ \" \" +${lastNameInput.value}`;\n        btnAddSpecialBaggage.addEventListener(\"click\", (event)=>{\n            event.preventDefault();\n            this.specialBaggage = specialBaggageCount.value;\n            if (this.specialBaggage > 0) {\n                addedSpecialBaggage.textContent = `Added x ${this.specialBaggage}`;\n                iconSpecialBaggage.classList.remove(\"text-danger\");\n                iconSpecialBaggage.classList.add(\"text-success\");\n            }\n        });\n        btnAddCheckedBaggage.addEventListener(\"click\", (event)=>{\n            event.preventDefault();\n            this.checkedBaggage = checkedBaggageCount.value;\n            if (this.checkedBaggage > 0) {\n                addedCheckedBaggage.textContent = `Added x ${this.checkedBaggage}`;\n                iconCheckedBaggage.classList.remove(\"text-danger\");\n                iconCheckedBaggage.classList.add(\"text-success\");\n            }\n        });\n    }\n    handleSignInButton() {\n        const { btnSignIn: btnSignIn, signInFormContainer: signInFormContainer } = this.domElements;\n        btnSignIn.addEventListener(\"click\", (event)=>{\n            event.preventDefault();\n            signInFormContainer.classList.remove(\"d-none\");\n            signInFormContainer.classList.add(\"d-block\");\n        });\n        console.log(signInFormContainer);\n    }\n    handleSignInForm() {\n        const { logInForm: logInForm, logInUsernameInput: logInUsernameInput, logInPasswordInput: logInPasswordInput, logoutButton: logoutButton, signInFormContainer: signInFormContainer, registrationSuggestion: registrationSuggestion, usernameLabel: usernameLabel, btnCheckOut: btnCheckOut, btnSignIn: btnSignIn } = this.domElements;\n        if (logInForm) logInForm.addEventListener(\"submit\", async (event)=>{\n            event.preventDefault();\n            const username = logInUsernameInput.value.trim();\n            const password = logInPasswordInput.value.trim();\n            if (password === \"\" || username === \"\") alert(\"Both username and password are required.\");\n            else try {\n                // Make the login API request\n                const response = await fetch(\"/login\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        username: username,\n                        password: password\n                    })\n                });\n                const result = await response.json();\n                if (result.success) {\n                    usernameLabel.textContent = result.username;\n                    console.log(\"username:\", result.success);\n                    logoutButton.classList.add(\"d-block\");\n                    logoutButton.classList.remove(\"d-none\");\n                    alert(\"Login successful!\");\n                    signInFormContainer.classList.remove(\"d-block\");\n                    signInFormContainer.classList.add(\"d-none\");\n                    registrationSuggestion.classList.add(\"d-none\");\n                    btnCheckOut.textContent = \"Checkout\";\n                    btnSignIn.disabled = true;\n                } else alert(result.message || \"Invalid username or password.\");\n            } catch (error) {\n                console.error(\"Error during login:\", error);\n                alert(\"An error occurred during login. Please try again later.\");\n            }\n        });\n    }\n    handleLogoutButton() {\n        const { logoutButton: logoutButton, btnCheckOut: btnCheckOut, usernameLabel: usernameLabel, registrationSuggestion: registrationSuggestion, logInForm: logInForm, btnSignIn: btnSignIn } = this.domElements;\n        logoutButton.addEventListener(\"click\", async ()=>{\n            try {\n                const response = await fetch(\"/logout\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n                const result = await response.json();\n                if (result.success) {\n                    alert(\"Logout succesful.\");\n                    logoutButton.classList.remove(\"d-block\");\n                    logoutButton.classList.add(\"d-none\");\n                    usernameLabel.textContent = \"\";\n                    btnCheckOut.textContent = \"Checkout as a Guest\";\n                    btnSignIn.disabled = false;\n                    registrationSuggestion.classList.remove(\"d-none\");\n                    registrationSuggestion.classList.add(\"d-block\");\n                    //clear form\n                    logInForm.reset();\n                }\n            } catch (error) {\n                console.error(\"Error during logout:\", error);\n                alert(\"An error occurred during logout. Please try again later.\");\n            }\n        });\n    }\n    async sendBookingConfirmation() {\n        /* Collect data and send it to the server via AJAX */ const { emailInput: emailInput, nameInput: nameInput } = this.domElements;\n        /* //Flight Airports\r\n    let departureAirport =\r\n      selectedFlightsData[0].flights[0].departure_airport.name;\r\n    let arrivalAirport = selectedFlightsData[0].flights[1].arrival_airport.name;\r\n */ //get the required data top compose the email\n        const emailData = {\n            to: emailInput.value,\n            cc: \"\",\n            bcc: \"\",\n            subject: \"Flight Booking Confirmation\",\n            message: ` ${(0, $c4a02edd7d4f4ac1$export$2e2bcd8739ae039)(nameInput.value)}`\n        };\n        try {\n            const response = await fetch(\"/send-email\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(emailData)\n            });\n            if (response.ok) alert(\"Message sent succesfully!\");\n            else alert(\"Failed to send message\");\n        } catch (error) {\n            console.error(\"Error:\", error);\n            alert(\"Error sending email.\");\n        }\n    }\n    gotoRegister() {\n        const { gotoRegistrationLink: gotoRegistrationLink, registerButtonContainer: registerButtonContainer, nameInput: nameInput, invalidName: invalidName, lastNameInput: lastNameInput, invalidLastName: invalidLastName, nationalityInput: nationalityInput, invalidNationality: invalidNationality, selectDate: selectDate, invalidDate: invalidDate } = this.domElements;\n        gotoRegistrationLink.addEventListener(\"click\", (event)=>{\n            event.preventDefault(); // Prevent default anchor behavior\n            if (nameInput.value.trim() === \"\" || lastNameInput.value.trim() === \"\" || selectDate.value.trim() === \"\" || !selectDate.value) {\n                invalidName.classList.add(\"d-block\");\n                invalidLastName.classList.add(\"d-block\");\n                invalidNationality.classList.add(\"d-block\");\n                invalidDate.classList.add(\"d-block\");\n            } else {\n                // Remove 'd-none' to show the element\n                registerButtonContainer.classList.remove(\"d-none\");\n                registerButtonContainer.classList.add(\"d-block\");\n                // Optionally scroll into view\n                registerButtonContainer.scrollIntoView({\n                    behavior: \"smooth\"\n                });\n            }\n        });\n    }\n    registerUser() {\n        const { btnRegister: btnRegister, emailInput: emailInput, usernameInput: usernameInput, passwordInput: passwordInput, invalidUsername: invalidUsername, invalidEmail: invalidEmail, invalidPassword: invalidPassword, registerButtonContainer: registerButtonContainer } = this.domElements;\n        let registeredUser;\n        if (usernameInput && passwordInput) // Avoid attaching multiple listeners\n        btnRegister.addEventListener(\"click\", async (event)=>{\n            event.preventDefault();\n            console.log(\"usernameInput value:\", usernameInput?.value);\n            console.log(\"emailInput value:\", emailInput?.value);\n            console.log(\"passwordInput value:\", passwordInput?.value);\n            if (usernameInput.value.trim() === \"\" || passwordInput.value.trim() === \"\" || emailInput.value.trim() === \"\") {\n                invalidEmail.classList.add(\"d-block\");\n                invalidUsername.classList.add(\"d-block\");\n                invalidPassword.classList.add(\"d-block\");\n                return; // Stop further execution if inputs are invalid\n            }\n            // Create RegisteredUser object\n            registeredUser = {\n                username: usernameInput?.value.trim(),\n                password: passwordInput?.value.trim(),\n                email: emailInput?.value.trim()\n            };\n            try {\n                const response = await fetch(\"/register\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(registeredUser)\n                });\n                const result = await response.json();\n                console.log(\"Server Response:\", result); // Log the full response\n                if (result.success) {\n                    let userId = result.userId;\n                    alert(\"Registration successful. Please sign in for a better experience\");\n                    //clear the form\n                    console.log(\"usernameInput: \", usernameInput);\n                    usernameInput.value = \"\";\n                    passwordInput.value = \"\";\n                    //hide the form\n                    registerButtonContainer.classList.remove(\"d-block\");\n                    registerButtonContainer.classList.add(\"d-none\");\n                    return result.userId;\n                } else alert(result.message || \"Registration failed. Please try again.\");\n            } catch (error) {\n                console.error(\"Error during registration:\", error);\n                alert(\"An error occurred during registration. Please try again later.\");\n                return null;\n            }\n        });\n    }\n}\n\n\n\nclass $5fbdb6ea29566137$export$2e2bcd8739ae039 extends (0, $c4b00e42b75f1dbd$export$2e2bcd8739ae039) {\n    constructor(params){\n        super(params);\n        this.setTitle(\"Booking Confirmation\");\n    }\n    async getHtml() {\n        let name = JSON.parse(localStorage.getItem(\"name\"));\n        let bookingData = JSON.parse(localStorage.getItem(\"booking-data\")) || \"\";\n        let selectedFlightsData = JSON.parse(localStorage.getItem(\"selected-flights-data\"));\n        let bookingOption = JSON.parse(localStorage.getItem(\"booking-option-data\")) || \"\";\n        let pinCode = this.getRandomNums(0, 9, 4);\n        let clientReferenceFirstSegment = this.getRandomNums(0, 9, 2);\n        let clientReferenceSecondSegment = this.getRandomNums(0, 9, 9);\n        let bookingReference = this.getRandomLetters(6);\n        let adults = bookingData.adults || 0;\n        let children = bookingData.children || 0;\n        let infants = bookingData.infants_in_seat || 0;\n        let numOfPassengers = parseInt(adults) + parseInt(children) + parseInt(infants);\n        let departureDate = this.formatDate(selectedFlightsData[0].flights[0].departure_airport.time);\n        let arrivalDate = \"\";\n        selectedFlightsData[0].flights.length > 1 ? arrivalDate = this.formatDate(selectedFlightsData[1].flights[0].departure_airport.time) : arrivalDate = this.formatDate(selectedFlightsData[1].flights[0].departure_airport.time);\n        return `\n    <div class=\"html-container\">\n        <div class=\"container-sm p-3 border booking-confirmation mt-3\">\n            <div class=\"booking-confirmation-section\">\n                <div class=\"card p-3 mb-3\">\n                    <div class=\"row\">\n                        <div class=\"d-flex justify-content-between\">\n                            <h4>Details of your flight booking</h4>\n                            <div>\n                                <button class=\"btn btn-dark\"><i class=\"bi bi-printer\"></i> Print</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"card p-3\">\n                    <div class=\"border-bottom border-secondary-subttle\">\n                        <p>Hi <span>${name}</span></p>\n                        <p>Travel can be complicated. To keep things simple, we've gathered all the details about your upcoming flight in one place.</p>\n                    </div>\n                    <div class=\"border-bottom border-secondary-subttle\" >\n                        <div class=\"row py-3 w-100 m-auto\">\n                            <div class=\"col-5\">\n                                <p class=\"fw-bold\">Booking References</p>\n                            </div>\n                            <div class=\"col-7\">\n                                <p>Use your booking reference when you check in online for your flight. It's also useful if you need to contact the airline about your flight.</p>\n                            </div>\n                        </div>\n                        <div class=\"row w-100 m-auto\">\n                            <div class=\"col-5\">\n                                <ul class=\"ps-0\">\n                                ${selectedFlightsData[0].type === \"Round trip\" ? `\n                                    <li class=\"list-group-item\">${selectedFlightsData[0].flights[0].departure_airport.id} <i class=\"bi bi-arrow-right\"></i> ${selectedFlightsData[0].flights[1].arrival_airport.id}</li>\n                                    <li class=\"list-group-item py-3\">${selectedFlightsData[0].flights[1].arrival_airport.id} <i class=\"bi bi-arrow-right\"></i> ${selectedFlightsData[0].flights[0].departure_airport.id}</li>                                    \n                                    ` : ` \n                                    <li class=\"list-group-item\">\n                                          ${selectedFlightsData[0].flights[0].departure_airport.id} \n                                                <i class=\"bi bi-arrow-right\"></i> \n                                                      ${selectedFlightsData[0].flights[0].arrival_airport.id}\n                                     </li>`}                                    \n                                </ul>                            \n                            </div>\n                            <div class=\"col-7\">\n                                 <ul class=\"ps-0\">\n                                    <li class=\"list-group-item\">${bookingReference.join(\"\")}</li>\n                                    <li class=\"list-group-item py-3\">${bookingReference.join(\"\")}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div>\n                        <div class=\"row py-3 w-100 m-auto\">\n                            <div class=\"col-5\">\n                                <p class=\"fw-bold\">Customer reference and PIN</p>\n                            </div>\n                            <div class=\"col-7\">\n                                <p>Your customer reference and PIN are important if you need to contact us about your flight reservation.</p>\n                            </div>\n                        </div>\n                        <div class=\"row w-100 m-auto\">\n                            <div class=\"col-5\">\n                                <p>Customer reference</p>\n                            </div>\n                            <div class=\"col-7\">\n                                <p>${clientReferenceFirstSegment.join(\"\")}-${clientReferenceSecondSegment.join(\"\")}</p>\n                            </div>\n                        </div>\n                        <div class=\"row w-100 m-auto\">\n                            <div class=\"col-5\">\n                                <p>PIN code</p>\n                            </div>\n                            <div class=\"col-7\">\n                                <p>${pinCode.join(\"\")}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div>\n                        <div class=\"p-3 w-100 m-auto\">\n                            <h5 class=\"fw-bold\">How to check in</h5>\n                            <ol class=\"ps-3\">\n                                <li>Online check-in generally opens 72 to 24 hours before your departure time</li>\n                                <li>Check in on the airline's website using your booking reference (top of the email)</li>\n                                <li>You'll get your boarding pass from the airline when you check in</li>\n                            </ol>                            \n                        </div>\n                    </div>\n\n                    <div class=\"card p-3\">\n                        <h5 class=\"fw-bold\">Your flight details</h5>\n                        <div>\n                       \n                            <div class=\"d-flex justify-content-between align-items-center\">\n                                                            <div><span>${numOfPassengers}</span> passenger(s)</span> - <strong>CAD $<span>${parseInt(bookingOption.price).toFixed(2)}</span></strong></div>                                \n                                                        </div>\n                                                            <div class=\"\">\n                                                                <div class=\"card p-3 mt-3\">\n                                                                <div class=\"row\">\n                                                                    <div class=\"col-2\">\n                                                                        <img src=\"${selectedFlightsData[0].flights[0].airline_logo}\"/>\n                                                                    </div>\n                                                                    <div class=\"data col-7 pt-2\">\n                                                                        <div><span class=\"fw-bold\">${selectedFlightsData[0].flights[0].departure_airport.name} - ${selectedFlightsData[0].flights[0].departure_airport.id}</span></div>\n                                            <div class=\"subdata\"><span class=\"\">${departureDate}</span></div>\n                                            </div>\n                                            <div class=\"col-3\">\n                                               <div>\n                                                    <div class=\"data\">\n                                                        <p>Checked baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\n                                                    </div>\n                                                   \n                                               </div>\n                                                <div>\n                                                    <div class=\"data\">\n                                                        <p>Special baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\n                                                    </div>                                                   \n                                               </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"card p-3 mt-3\">\n                                     <div class=\"row\">\n                                         <div class=\"col-2\">\n                                                <img src=\"${selectedFlightsData[0].flights[1].airline_logo}\"/>\n                                            </div>\n                                        <div class=\"col-7 pt-3\">\n                                            <div class=\"data\"><span class=\"fw-bold\">${selectedFlightsData[0].flights.length > 1 ? selectedFlightsData[0].flights[1].arrival_airport.name : selectedFlightsData[0].flights[0].arrival_airport.name} - ${selectedFlightsData[0].flights.length > 1 ? selectedFlightsData[0].flights[1].arrival_airport.id : selectedFlightsData[0].flights[0].arrival_airport.id}</span></div>\n                                            <div class=\"subdata\">${arrivalDate}</div>\n                                            </div>\n                                             <div class=\"col-3\">\n                                               <div>\n                                                    <div class=\"data\">\n                                                        <p>Checked baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\n                                                    </div>\n                                                   \n                                               </div>\n                                                <div>\n                                                    <div class=\"data\">\n                                                        <p>Special baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\n                                                    </div>                                                   \n                                               </div>\n                                            </div>\n                                        </div>\n                                       \n                                     </div>\n                                </div>\n                        </div>\n                    </div> \n                    \n                    <div class=\"p-3\">\n                        <div>\n                            <h5 class=\"fw-bold\">If you need any help</h5>\n                            <p>Visit the Flights help center and have your customer reference and PIN at hand</p>\n                        </div>\n                    </div>                    \n                </div>   \n            </div>\n        </div>\n    </div>\n    `;\n    }\n    async postRender() {}\n    /**\r\n   * generate random numbers to simulate a customer reference number and PIN\r\n   * normally used for contacting customer service\r\n   * @param {*} min\r\n   * @param {*} max\r\n   * @param {*} count\r\n   * @returns\r\n   */ getRandomNums(min, max, count) {\n        const randomNumbers = [];\n        for(let i = 0; i < count; i++)randomNumbers.push(Math.floor(Math.random() * (max - min)) + min);\n        return randomNumbers;\n    }\n    /**\r\n   * Generate a set of random letters to simulate the booking confimration\r\n   * @param {*} count\r\n   * @returns\r\n   */ getRandomLetters(count) {\n        const alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        const randomLetters = [];\n        for(let i = 0; i < count; i++){\n            const randomIndex = Math.floor(Math.random() * alphabet.length);\n            randomLetters.push(alphabet[randomIndex]);\n        }\n        return randomLetters;\n    }\n    /**\r\n   * format date to US locale\r\n   * @param {*} dateString\r\n   * @returns\r\n   */ formatDate(dateString) {\n        const date = new Date(dateString);\n        return date.toLocaleDateString(\"en-US\", {\n            weekday: \"long\",\n            day: \"numeric\",\n            month: \"long\",\n            year: \"numeric\"\n        }) + ` - ${date.toLocaleTimeString(\"en-US\", {\n            hour: \"numeric\",\n            minute: \"2-digit\",\n            hour12: true\n        })}`;\n    }\n}\n\n\nconst $4a1fb3697f2d86ed$var$pathToRegex = (path)=>new RegExp(\"^\" + path.replace(/\\//g, \"\\\\/\").replace(/:\\w+/g, \"(.+)\") + \"$\");\nconst $4a1fb3697f2d86ed$var$getParams = (match)=>{\n    const values = match.result.slice(1);\n    const keys = Array.from(match.route.path.matchAll(/:(\\w+)/g)).map((result)=>result[1]);\n    return Object.fromEntries(keys.map((key, i)=>{\n        return [\n            key,\n            values[i]\n        ];\n    }));\n};\nconst $4a1fb3697f2d86ed$var$navigateTo = (url)=>{\n    history.pushState(null, null, url);\n    $4a1fb3697f2d86ed$var$router();\n};\n//Create the routes for the existing views\nconst $4a1fb3697f2d86ed$var$router = async ()=>{\n    const routes = [\n        {\n            path: \"/\",\n            view: (0, $383917d63580280f$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/booking-form\",\n            view: (0, $0a4bffb4769d283d$export$2e2bcd8739ae039)\n        },\n        {\n            path: \"/booking-confirmation\",\n            view: (0, $5fbdb6ea29566137$export$2e2bcd8739ae039)\n        }\n    ];\n    //Test Routes\n    const potentialMatches = routes.map((route)=>{\n        return {\n            route: route,\n            result: location.pathname.match($4a1fb3697f2d86ed$var$pathToRegex(route.path))\n        };\n    });\n    let match = potentialMatches.find((potentialMatch)=>potentialMatch.result !== null);\n    //TODO: customize the not found 404 if wanted\n    if (!match) match = {\n        route: routes[0],\n        result: [\n            location.pathname\n        ]\n    };\n    const view = new match.route.view($4a1fb3697f2d86ed$var$getParams(match));\n    let appContainer = document.querySelector(\".app\");\n    if (appContainer) appContainer.innerHTML = await view.getHtml();\n    // Now that the HTML is rendered, you can bind event listeners\n    if (typeof view.postRender === \"function\") view.postRender();\n};\nwindow.addEventListener(\"popstate\", $4a1fb3697f2d86ed$var$router);\n/**\r\n * Add event listeners to all navigation link to prevent\r\n * default behaviour\r\n */ document.addEventListener(\"DOMContentLoaded\", ()=>{\n    document.body.addEventListener(\"click\", (event)=>{\n        if (event.target.matches(\"a[data-link]\")) {\n            event.preventDefault();\n            $4a1fb3697f2d86ed$var$navigateTo(event.target.href);\n        }\n    });\n    $4a1fb3697f2d86ed$var$router();\n});\n/**\r\n * set active class for all sidebar links\r\n */ document.querySelectorAll(\".nav-link\").forEach((link)=>{\n    link.addEventListener(\"click\", function() {\n        // Remove the active class from all links\n        document.querySelectorAll(\".nav-link\").forEach((nav)=>nav.classList.remove(\"active\"));\n        // Add the active class to the clicked link\n        this.classList.add(\"active\");\n    });\n});\n\n\n//# sourceMappingURL=index.604fc533.js.map\n","import Home from \"./components/Home.js\";\r\nimport Bookings from \"./components/Bookings.js\";\r\nimport Confirmation from \"./components/Confirmation.js\";\r\n\r\nconst pathToRegex = (path) =>\r\n  new RegExp(\"^\" + path.replace(/\\//g, \"\\\\/\").replace(/:\\w+/g, \"(.+)\") + \"$\");\r\n\r\nconst getParams = (match) => {\r\n  const values = match.result.slice(1);\r\n  const keys = Array.from(match.route.path.matchAll(/:(\\w+)/g)).map(\r\n    (result) => result[1]\r\n  );\r\n\r\n  return Object.fromEntries(\r\n    keys.map((key, i) => {\r\n      return [key, values[i]];\r\n    })\r\n  );\r\n};\r\n\r\nconst navigateTo = (url) => {\r\n  history.pushState(null, null, url);\r\n  router();\r\n};\r\n\r\n//Create the routes for the existing views\r\nconst router = async () => {\r\n  const routes = [\r\n    {\r\n      path: \"/\",\r\n      view: Home,\r\n    },\r\n    {\r\n      path: \"/booking-form\",\r\n      view: Bookings,\r\n    },\r\n    {\r\n      path: \"/booking-confirmation\",\r\n      view: Confirmation,\r\n    },\r\n  ];\r\n\r\n  //Test Routes\r\n  const potentialMatches = routes.map((route) => {\r\n    return {\r\n      route: route,\r\n      result: location.pathname.match(pathToRegex(route.path)),\r\n    };\r\n  });\r\n\r\n  let match = potentialMatches.find(\r\n    (potentialMatch) => potentialMatch.result !== null\r\n  );\r\n\r\n  //TODO: customize the not found 404 if wanted\r\n  if (!match) {\r\n    match = {\r\n      route: routes[0],\r\n      result: [location.pathname],\r\n    };\r\n  }\r\n\r\n  const view = new match.route.view(getParams(match));\r\n  let appContainer = document.querySelector(\".app\");\r\n\r\n  if (appContainer) {\r\n    appContainer.innerHTML = await view.getHtml();\r\n  }\r\n\r\n  // Now that the HTML is rendered, you can bind event listeners\r\n  if (typeof view.postRender === \"function\") {\r\n    view.postRender();\r\n  }\r\n};\r\n\r\nwindow.addEventListener(\"popstate\", router);\r\n\r\n/**\r\n * Add event listeners to all navigation link to prevent\r\n * default behaviour\r\n */\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  document.body.addEventListener(\"click\", (event) => {\r\n    if (event.target.matches(\"a[data-link]\")) {\r\n      event.preventDefault();\r\n      navigateTo(event.target.href);\r\n    }\r\n  });\r\n  router();\r\n});\r\n\r\n/**\r\n * set active class for all sidebar links\r\n */\r\ndocument.querySelectorAll(\".nav-link\").forEach((link) => {\r\n  link.addEventListener(\"click\", function () {\r\n    // Remove the active class from all links\r\n    document\r\n      .querySelectorAll(\".nav-link\")\r\n      .forEach((nav) => nav.classList.remove(\"active\"));\r\n\r\n    // Add the active class to the clicked link\r\n    this.classList.add(\"active\");\r\n  });\r\n});\r\n","import AbstractView from \"./AbstractView.js\";\r\nimport Hero from \"./Hero.js\";\r\nimport SearchForm from \"../templates/search-form.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\nimport FlightCard from \"../templates/flight-card.js\";\r\nimport BookingOptionsCard from \"../templates/booking-options-card.js\";\r\nimport SelectedFlightCard from \"../templates/selected-flights-card.js\";\r\nimport SigninForm from \"../templates/sign-form.js\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Home\");\r\n    this.autocompleteTimeout = 300;\r\n    this.autocompleteTimeoutHandle = 0;\r\n    this.domElements = {};\r\n  }\r\n\r\n  async getHtml() {\r\n    return `\r\n          \r\n          <div class=\"html-container\">\r\n            ${Hero} \r\n            ${SearchForm} \r\n          </div>          \r\n        `;\r\n  }\r\n\r\n  async postRender() {\r\n    // this.getCountryID();\r\n    this.initializeElements();\r\n    const {\r\n      originInput,\r\n      originOptions,\r\n      destinationInput,\r\n      destinationOptions,\r\n      departureDateInput,\r\n      flightTypeSelect,\r\n      returnDate,\r\n      searchButton,\r\n      resetButton,\r\n      selectFlightButtons,\r\n      searchResultsSeparator,\r\n      searchResultsLoader,\r\n      searchResults,\r\n      returnDateInput,\r\n      travelClassSelect,\r\n      adultsInput,\r\n      childrenInput,\r\n      infantsInput,\r\n      flightIcon,\r\n    } = this.domElements;\r\n\r\n    this.reset();\r\n\r\n    document.body.addEventListener(\"change\", () => {\r\n      clearTimeout(this.autocompleteTimeoutHandle);\r\n      searchButton.disabled = !originInput.value || !destinationInput.value;\r\n    });\r\n\r\n    originInput.addEventListener(\"input\", () => {\r\n      this.autocomplete(originInput, originOptions);\r\n    });\r\n    destinationInput.addEventListener(\"input\", () => {\r\n      this.autocomplete(destinationInput, destinationOptions);\r\n    });\r\n    flightTypeSelect.addEventListener(\"change\", () => {\r\n      if (flightTypeSelect.value === \"one-way\") {\r\n        returnDate.classList.add(\"d-none\");\r\n        flightIcon.classList.remove(\"bi-arrow-repeat\");\r\n        flightIcon.classList.add(\"bi-arrow-right\");\r\n      } else {\r\n        returnDate.classList.remove(\"d-none\");\r\n        flightIcon.classList.remove(\"bi-arrow-right\");\r\n        flightIcon.classList.add(\"bi-arrow-repeat\");\r\n      }\r\n    });\r\n    searchButton.addEventListener(\"click\", async () => {\r\n      searchResultsSeparator.classList.remove(\"d-none\");\r\n      searchResultsLoader.classList.remove(\"d-none\");\r\n\r\n      const results = await this.search();\r\n\r\n      searchResultsLoader.classList.add(\"d-none\");\r\n      this.showResults(results);\r\n    });\r\n\r\n    resetButton.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      this.reset();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initialize DOM elements\r\n   */\r\n  initializeElements() {\r\n    this.domElements = {\r\n      originInput: document.getElementById(\"origin-input\"),\r\n      originOptions: document.getElementById(\"origin-options\"),\r\n      destinationInput: document.getElementById(\"destination-input\"),\r\n      destinationOptions: document.getElementById(\"destination-options\"),\r\n      departureDateInput: document.getElementById(\"departure-date-input\"),\r\n      flightTypeSelect: document.getElementById(\"flight-type-select\"),\r\n      returnDate: document.getElementById(\"return-date\"),\r\n      searchButton: document.getElementById(\"search-button\"),\r\n      resetButton: document.querySelector(\".btn-reset\"),\r\n      selectFlightButtons: document.querySelectorAll(\".btn-select-flight\"),\r\n      bookFlightButtons: document.querySelectorAll(\".btn-book-flight\"),\r\n      sendQueryButton: document.querySelector(\".btn-send-query\"),\r\n      searchResultsSeparator: document.getElementById(\r\n        \"search-results-separator\"\r\n      ),\r\n      searchResultsLoader: document.getElementById(\"search-results-loader\"),\r\n      bestFlights: document.getElementById(\"best-flights\"),\r\n      otherFlights: document.getElementById(\"other-flights\"),\r\n      returnDateInput: document.getElementById(\"return-date-input\"),\r\n      travelClassSelect: document.getElementById(\"travel-class-select\"),\r\n      adultsInput: document.getElementById(\"adults-input\"),\r\n      childrenInput: document.getElementById(\"children-input\"),\r\n      infantsInput: document.getElementById(\"infants-input\"),\r\n      flightIcon: document.querySelector(\".flight-icon\"),\r\n    };\r\n  }\r\n\r\n  reset() {\r\n    const {\r\n      originInput,\r\n      destinationInput,\r\n      departureDateInput,\r\n      flightTypeSelect,\r\n      returnDate,\r\n      searchButton,\r\n      searchResultsSeparator,\r\n      searchResultsLoader,\r\n      returnDateInput,\r\n      travelClassSelect,\r\n      adultsInput,\r\n      childrenInput,\r\n      infantsInput,\r\n      infantsOnLap,\r\n      flightIcon,\r\n    } = this.domElements;\r\n\r\n    originInput.value = \"\";\r\n    destinationInput.value = \"\";\r\n    departureDateInput.valueAsDate = new Date();\r\n    returnDateInput.valueAsDate = new Date();\r\n    returnDate.classList.add(\"d-none\");\r\n    travelClassSelect.value = \"1\";\r\n    adultsInput.value = 1;\r\n    childrenInput.value = 0;\r\n    infantsInput.value = 0;\r\n    searchButton.disabled = true;\r\n    searchResultsSeparator.classList.add(\"d-none\");\r\n    searchResultsLoader.classList.add(\"d-none\");\r\n    flightTypeSelect.value = \"one-way\";\r\n    flightIcon.classList.add(\"bi-arrow-right\");\r\n  }\r\n\r\n  /**\r\n   * format dates\r\n   * @param {*} date\r\n   * @returns\r\n   */\r\n  formatDate(date) {\r\n    const [formattedDate] = date.toISOString().split(\"T\");\r\n    return formattedDate;\r\n  }\r\n\r\n  /**\r\n   * format numeric values\r\n   * @param {*} number\r\n   * @returns\r\n   */\r\n  formatNumber(number) {\r\n    return `${Math.abs(parseInt(number))}`;\r\n  }\r\n\r\n  /**\r\n   * handle logic for the autocomplete feature for the input elements\r\n   * @param {*} input\r\n   * @param {*} datalist\r\n   * @param {*} cityCodes\r\n   */\r\n  autocomplete(input, datalist) {\r\n    clearTimeout(this.autocompleteTimeoutHandle);\r\n    this.autocompleteTimeoutHandle = setTimeout(async () => {\r\n      try {\r\n        const data = await getData(\"/airports\");\r\n\r\n        // get data\r\n        let matches = data.filter((airport) => {\r\n          const regex = new RegExp(`^${input}`, \"gi\");\r\n          return (\r\n            airport.country.match(regex) ||\r\n            airport.name.match(regex) ||\r\n            airport.city.match(regex) ||\r\n            airport.iata_code.match(regex)\r\n          );\r\n        });\r\n        datalist.textContent = \"\";\r\n        matches.forEach((entry) => {\r\n          datalist.insertAdjacentHTML(\r\n            \"beforeend\",\r\n            `<option value=\"${entry.iata_code}\">${entry.city} - ${entry.iata_code}</option>`\r\n          );\r\n        });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }, this.autocompleteTimeout);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns Search fro flights based on user input criteria\r\n   */\r\n  async search() {\r\n    const {\r\n      originInput,\r\n      destinationInput,\r\n      departureDateInput,\r\n      flightTypeSelect,\r\n      returnDateInput,\r\n      travelClassSelect,\r\n      adultsInput,\r\n      childrenInput,\r\n      infantsInput,\r\n    } = this.domElements;\r\n    try {\r\n      const returns = flightTypeSelect.value === \"round-trip\";\r\n      const params = new URLSearchParams({\r\n        departure_id: originInput.value,\r\n        arrival_id: destinationInput.value,\r\n        outbound_date: this.formatDate(departureDateInput.valueAsDate),\r\n        departure_token: \"\",\r\n        adults: this.formatNumber(adultsInput.value),\r\n        children: this.formatNumber(childrenInput.value),\r\n        infants_in_seat: this.formatNumber(infantsInput.value),\r\n        travel_class: this.formatNumber(travelClassSelect.value),\r\n        ...(returns\r\n          ? { return_date: this.formatDate(returnDateInput.valueAsDate) }\r\n          : {}),\r\n        currency: \"CAD\",\r\n        hl: \"en\",\r\n      });\r\n      const query = `search?${params.toString()}`;\r\n\r\n      const data = await getData(query);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render the search results\r\n   * @param {*} results\r\n   */\r\n  showResults(results) {\r\n    const { bestFlights, otherFlights } = this.domElements;\r\n    const bestFlightsList = results.best_flights || [];\r\n    const otherFlightsList = results.other_flights || [];\r\n\r\n    if (bestFlightsList.length === 0) {\r\n      // Clear any existing content and add \"No results\" message\r\n      bestFlights.textContent = \"\"; // Ensures it's empty\r\n      bestFlights.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `\r\n        <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\r\n            No results\r\n        </div>\r\n        `\r\n      );\r\n    } else {\r\n      // Clear any existing content\r\n      bestFlights.textContent = \"\";\r\n      bestFlights.innerHTML = `<h3 class=\"text-center py-3\">Best Flights</h3>`;\r\n\r\n      bestFlightsList.forEach((flight) => {\r\n        bestFlights.innerHTML += `\r\n          <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\r\n          ${FlightCard(results, flight)}\r\n          </div>\r\n            `;\r\n      });\r\n    }\r\n\r\n    if (otherFlightsList.length === 0) {\r\n      // Clear any existing content and add \"No results\" message\r\n      otherFlights.textContent = \"\"; // Ensures it's empty\r\n      otherFlights.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `\r\n        <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\r\n            No results\r\n        </div>\r\n        `\r\n      );\r\n    } else {\r\n      // Clear any existing content\r\n      otherFlights.textContent = \"\";\r\n      otherFlights.innerHTML = `<h3 class=\"text-center py-3\">Other Flights</h3>`;\r\n\r\n      otherFlightsList.forEach((flight) => {\r\n        otherFlights.innerHTML += `\r\n        <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\r\n        ${FlightCard(results, flight)}\r\n        </div>\r\n          `;\r\n      });\r\n    }\r\n\r\n    this.getReturnFlights();\r\n  }\r\n\r\n  getReturnFlights() {\r\n    this.domElements.selectFlightButtons =\r\n      document.querySelectorAll(\".btn-select-flight\");\r\n\r\n    if (this.domElements.selectFlightButtons.length > 0) {\r\n      this.domElements.selectFlightButtons.forEach((button) => {\r\n        button.addEventListener(\"click\", async (event) => {\r\n          const token = event.target.getAttribute(\"data-token\");\r\n          const departure_id = event.target.getAttribute(\"data-departure_id\");\r\n          const arrival_id = event.target.getAttribute(\"data-arrival_id\");\r\n          const outbound_date = event.target.getAttribute(\"data-outbound_date\");\r\n          const return_date = event.target.getAttribute(\"data-return_date\");\r\n          const numOfAdults = event.target.getAttribute(\"data-adults\");\r\n          const numOfChildren = event.target.getAttribute(\"data-children\");\r\n          const numOfInfants = event.target.getAttribute(\"data-infants\");\r\n\r\n          const params = new URLSearchParams({\r\n            engine: \"google_flights\",\r\n            departure_id: departure_id,\r\n            arrival_id: arrival_id,\r\n            outbound_date: outbound_date,\r\n            return_date: return_date,\r\n            adults: numOfAdults,\r\n            children: numOfChildren,\r\n            infants_in_seat: numOfInfants || 0,\r\n            departure_token: token,\r\n            currency: \"CAD\",\r\n            hl: \"en\",\r\n          });\r\n          this.domElements.searchResultsLoader.classList.remove(\"d-none\");\r\n\r\n          const query = `/search?${params.toString()}`;\r\n\r\n          try {\r\n            const response = await fetch(query);\r\n\r\n            if (!response.ok) {\r\n              throw new Error(\"Data not found\");\r\n            }\r\n\r\n            this.domElements.searchResultsLoader.classList.add(\"d-none\");\r\n\r\n            const data = await response.json();\r\n            this.showReturnResults(data);\r\n          } catch (error) {\r\n            throw error;\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  showReturnResults(results) {\r\n    const { bestFlights, otherFlights } = this.domElements;\r\n    const bestFlightsList = results.best_flights || [];\r\n    const otherFlightsList = results.other_flights || [];\r\n\r\n    if (bestFlightsList.length === 0) {\r\n      // Clear any existing content and add \"No results\" message\r\n      bestFlights.innerHTML = \"\";\r\n      /* bestFlights.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `\r\n        <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\r\n            No results\r\n        </div>\r\n        `\r\n      ); */\r\n    } else {\r\n      // Clear any existing content\r\n      bestFlights.innerHTML = \"\";\r\n      bestFlights.innerHTML = `<h3 class=\"text-center py-3\">Best Return Flights</h3>`;\r\n\r\n      bestFlightsList.forEach((flight) => {\r\n        bestFlights.innerHTML += `\r\n          <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\r\n          ${FlightCard(results, flight)}\r\n          </div>\r\n            `;\r\n      });\r\n    }\r\n\r\n    if (otherFlightsList.length === 0) {\r\n      // Clear any existing content and add \"No results\" message\r\n      otherFlights.innerHTML = \"\"; // Ensures it's empty\r\n      otherFlights.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `\r\n        <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\r\n            No results\r\n        </div>\r\n        `\r\n      );\r\n    } else {\r\n      // Clear any existing content\r\n      otherFlights.innerHTML = \"\";\r\n      otherFlights.innerHTML = `<h3 class=\"text-center py-3\">Other Return Flights</h3>`;\r\n\r\n      otherFlightsList.forEach((flight) => {\r\n        otherFlights.innerHTML += `\r\n        <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\r\n        ${FlightCard(results, flight)}\r\n        </div>\r\n          `;\r\n      });\r\n    }\r\n\r\n    this.getBookingOptions();\r\n  }\r\n\r\n  getBookingOptions() {\r\n    this.domElements.selectFlightButtons =\r\n      document.querySelectorAll(\".btn-select-flight\");\r\n\r\n    if (this.domElements.selectFlightButtons.length > 0) {\r\n      this.domElements.selectFlightButtons.forEach((button) => {\r\n        button.addEventListener(\"click\", async (event) => {\r\n          const token = event.target.getAttribute(\"data-token\");\r\n          const departure_id = event.target.getAttribute(\"data-departure_id\");\r\n          const arrival_id = event.target.getAttribute(\"data-arrival_id\");\r\n          const outbound_date = event.target.getAttribute(\"data-outbound_date\");\r\n          const return_date = event.target.getAttribute(\"data-return_date\");\r\n          const numOfAdults = event.target.getAttribute(\"data-adults\");\r\n          const numOfChildren = event.target.getAttribute(\"data-children\");\r\n          const numOfInfants = event.target.getAttribute(\"data-infants\");\r\n\r\n          const params = {\r\n            engine: \"google_flights\",\r\n            departure_id: departure_id,\r\n            arrival_id: arrival_id,\r\n            outbound_date: outbound_date,\r\n            return_date: return_date,\r\n            booking_token: token,\r\n            adults: numOfAdults,\r\n            children: numOfChildren,\r\n            infants_in_seat: numOfInfants || 0,\r\n            currency: \"CAD\",\r\n            hl: \"en\",\r\n          };\r\n\r\n          const urlParams = new URLSearchParams(params);\r\n\r\n          const query = `/search?${urlParams.toString()}`;\r\n\r\n          this.domElements.searchResultsLoader.classList.remove(\"d-none\");\r\n\r\n          try {\r\n            const response = await fetch(query);\r\n\r\n            if (!response.ok) {\r\n              throw new Error(\"Data not found\");\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            this.domElements.searchResultsLoader.classList.add(\"d-none\");\r\n\r\n            this.showBookingOptions(data, params);\r\n          } catch (error) {\r\n            throw error;\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  showBookingOptions(results, params) {\r\n    const { bestFlights, otherFlights } = this.domElements;\r\n    const bookingOptions = results.booking_options || [];\r\n    const selectedFlights = results.selected_flights || [];\r\n\r\n    if (selectedFlights.length < 0) {\r\n      // Clear any existing content and add \"No results\" message\r\n      bestFlights.innerHTML = \"\";\r\n      bestFlights.innerHTML = `\r\n       <div class=\"d-flex justify-content-center align-items-center\" id=\"search-no-results\">\r\n            No results\r\n        </div>\r\n      `;\r\n    } else {\r\n      // Clear any existing content\r\n      bestFlights.innerHTML = \"\";\r\n      bestFlights.innerHTML = `<h3 class=\"text-center py-3\">Selected Flights</h3>`;\r\n\r\n      selectedFlights.forEach((flight) => {\r\n        bestFlights.innerHTML += `\r\n         <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\r\n          ${SelectedFlightCard(results, flight)}\r\n          </div>\r\n        `;\r\n      });\r\n    }\r\n\r\n    if (bookingOptions.length > 0) {\r\n      otherFlights.innerHTML = \"\";\r\n      otherFlights.innerHTML = `<h3 class=\"text-center py-3\">Booking Options</h3>`;\r\n\r\n      bookingOptions.forEach((option) => {\r\n        otherFlights.innerHTML += `\r\n        <div class=\"flex-column flex-sm-row list-group-item d-flex justify-content-between align-items-sm-center\">\r\n        ${BookingOptionsCard(option)}\r\n        </div>\r\n          `;\r\n      });\r\n    }\r\n    this.chooseBookingOption(params, selectedFlights);\r\n  }\r\n\r\n  chooseBookingOption(params, selectedFlights) {\r\n    const bookFlightButtons = document.querySelectorAll(\".btn-book-flight\");\r\n\r\n    if (bookFlightButtons.length > 0) {\r\n      bookFlightButtons.forEach((button) => {\r\n        button.addEventListener(\"click\", (event) => {\r\n          let bookingOption = event.target.getAttribute(\"data-book-with\");\r\n          let price = event.target.getAttribute(\"data-price\");\r\n\r\n          //store the data in the localstorage\r\n          localStorage.removeItem(\"booking-data\");\r\n          localStorage.setItem(\"booking-data\", JSON.stringify(params));\r\n\r\n          localStorage.removeItem(\"selected-flights-data\");\r\n          localStorage.setItem(\r\n            \"selected-flights-data\",\r\n            JSON.stringify(selectedFlights)\r\n          );\r\n\r\n          localStorage.removeItem(\"booking-option-data\");\r\n          localStorage.setItem(\r\n            \"booking-option-data\",\r\n            JSON.stringify({ bookingOption, price })\r\n          );\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /*  getCountryID() {\r\n    this.domElements.sendQueryButton =\r\n      document.querySelector(\".btn-send-query\");\r\n\r\n    this.domElements.sendQueryButton.addEventListener(\r\n      \"click\",\r\n      async (event) => {\r\n        event.preventDefault();\r\n\r\n        // Ensure that the country name is passed correctly in the URL\r\n        const countryResponse = await fetch(\r\n          `/query?countryName=Mexico`, // Correct table name 'Country'\r\n          {\r\n            method: \"GET\", // Correct method\r\n            headers: { \"Content-Type\": \"application/json\" }, // Optional but keeps it consistent\r\n          }\r\n        );\r\n\r\n        if (!countryResponse.ok) {\r\n          throw new Error(\"Failed to get country ID\");\r\n        }\r\n\r\n        // Log the response to check if the country result is received\r\n        const countryResult = await countryResponse.json();\r\n        console.log(\"Country Result:\", countryResult); // Logs the country result\r\n      }\r\n    );\r\n  } */\r\n}\r\n","export default class {\r\n  constructor(params) {\r\n    this.params = params;\r\n  }\r\n  setTitle(title) {\r\n    document.title = title;\r\n  }\r\n  async getHtml() {\r\n    return \"\";\r\n  }\r\n\r\n  async postRender() {\r\n    //manage DOM post-rendering logic, e.g attach event listeners, etc.\r\n  }\r\n}\r\n","const Hero = `\r\n<section class=\"hero\" style=\"display: block;\">\r\n    <div class=\"hero-image-container\">\r\n    <img\r\n        src=\"../src/assets/hero-img-3.png\"\r\n        alt=\"airplane\"\r\n        class=\"img-fuid\"\r\n    />\r\n    </div>\r\n    <div class=\"hero-content py-3\">\r\n    <h1 class=\"fw-bold pb-4\">\r\n        With <span class=\"logo-b\">B</span><span class=\"logo-v\">V</span\r\n        ><span class=\"logo-c\">C</span> Airlines <br />\r\n        The Sky's Not the Limit!\r\n    </h1>\r\n    <p class=\"fw-bold\">\r\n        Elevate your journey. Indulge in unparalleled luxury <br />\r\n        and comfort as you soar above the clouds with us.\r\n    </p>\r\n    </div>\r\n</section>\r\n`;\r\n\r\nexport default Hero;\r\n","const SearchForm = `\r\n <div class=\"container-sm\">\r\n      <div class=\"my-2 card\">\r\n        <div class=\"card-body\">\r\n          <h2 class=\"card-title text-center\">Flights</h2>\r\n          <div class=\"row\">\r\n            <div class=\"col-sm\">\r\n              <div class=\"mb-2\">\r\n                <label id=\"origin-label\" for=\"origin-input\" class=\"form-label\"\r\n                  >Depart From?</label\r\n                >\r\n                <div class=\"input-group\">\r\n                  <span class=\"input-group-text\"\r\n                    ><i class=\"bi bi-geo-alt\"></i>\r\n                  </span>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    list=\"origin-options\"\r\n                    id=\"origin-input\"\r\n                    placeholder=\"From?\"\r\n                    aria-describedby=\"origin-label\"\r\n                  />\r\n                  <datalist id=\"origin-options\"></datalist>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm\">\r\n              <div class=\"mb-2\">\r\n                <label\r\n                  id=\"destination-label\"\r\n                  for=\"destination-input\"\r\n                  class=\"form-label\"\r\n                  >Arrive To?</label\r\n                >\r\n                <div class=\"input-group\">\r\n                  <span class=\"input-group-text\"\r\n                    ><i class=\"bi bi-geo-alt-fill\"></i>\r\n                  </span>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    list=\"destination-options\"\r\n                    id=\"destination-input\"\r\n                    placeholder=\"To?\"\r\n                    aria-describedby=\"destination-label\"\r\n                  />\r\n                  <datalist id=\"destination-options\"></datalist>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"mb-2 col\">\r\n          <div class=\"h-100 card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">Dates</h5>\r\n              <div class=\"mb-2\">\r\n                <label\r\n                  id=\"flight-type-label\"\r\n                  for=\"flight-type-select\"\r\n                  class=\"form-label\"\r\n                  >Flight</label\r\n                >\r\n                <div class=\"input-group\">\r\n                    <span class=\"input-group-text\"\r\n                    ><i class=\"flight-icon\"></i>\r\n                  </span>\r\n                    <select\r\n                      id=\"flight-type-select\"\r\n                      class=\"form-select select-flight\"\r\n                      aria-describedby=\"flight-type-label\"\r\n                    >\r\n                      <option value=\"round-trip\" selected><span></span> Round-trip</option>\r\n                      <option value=\"one-way\"><span></span> One-way</option>\r\n                    </select>\r\n                </div>\r\n              </div>\r\n              <div id=\"departure-date\" class=\"mb-2\">\r\n                <label\r\n                  id=\"departure-date-label\"\r\n                  for=\"departure-date-input\"\r\n                  class=\"form-label\"\r\n                  >Departure date</label\r\n                >\r\n                <div class=\"input-group\">\r\n                  <span class=\"input-group-text\"\r\n                    ><i class=\"bi-calendar\"></i>\r\n                  </span>\r\n                  <input\r\n                    type=\"date\"\r\n                    class=\"form-control\"\r\n                    id=\"departure-date-input\"\r\n                    aria-describedby=\"departure-date-label\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div id=\"return-date\" class=\"mb-2\">\r\n                <label\r\n                  id=\"return-date-label\"\r\n                  for=\"return-date-input\"\r\n                  class=\"form-label\"\r\n                  >Return date</label\r\n                >\r\n                <div class=\"input-group\">\r\n                  <span class=\"input-group-text\"\r\n                    ><i class=\"bi-calendar-fill\"></i>\r\n                  </span>\r\n                  <input\r\n                    type=\"date\"\r\n                    class=\"form-control\"\r\n                    id=\"return-date-input\"\r\n                    aria-describedby=\"return-date-label\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2 col\">\r\n          <div class=\"h-100 card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">Details</h5>\r\n              <div class=\"mb-2\">\r\n                <label\r\n                  id=\"travel-class-label\"\r\n                  for=\"travel-class-select\"\r\n                  class=\"form-label\"\r\n                  >Travel class</label\r\n                >\r\n                <select\r\n                  class=\"form-select\"\r\n                  id=\"travel-class-select\"\r\n                  aria-describedby=\"travel-class-label\"\r\n                >\r\n                  <option value=\"1\" selected>Economy</option>\r\n                  <option value=\"2\">Premium Economy</option>\r\n                  <option value=\"3\">Business</option>\r\n                  <option value=\"4\">First</option>\r\n                </select>\r\n              </div>\r\n              <label class=\"form-label\">Passengers</label>\r\n              <div class=\"mb-2\">\r\n                <div class=\"input-group\">\r\n                  <label for=\"adults-input\" class=\"input-group-text\"\r\n                    >Adults</label\r\n                  >\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    class=\"form-control\"\r\n                    id=\"adults-input\"\r\n                    aria-describedby=\"adults-label\"\r\n                  />\r\n                </div>\r\n                <span id=\"adults-label\" class=\"form-text\"\r\n                  >12 years old and older</span\r\n                >\r\n              </div>\r\n              <div class=\"mb-2\">\r\n                <div class=\"input-group\">\r\n                  <label for=\"children-input\" class=\"input-group-text\"\r\n                    >Children</label\r\n                  >\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    class=\"form-control\"\r\n                    id=\"children-input\"\r\n                    aria-describedby=\"children-label\"\r\n                  />\r\n                </div>\r\n                <span id=\"children-label\" class=\"form-text\"\r\n                  >2 to 12 years old</span\r\n                >\r\n              </div>\r\n              <div class=\"mb-2\">\r\n                <div class=\"\">\r\n                  <div class=\"input-group\">\r\n                    <label for=\"infants-input\" class=\"input-group-text\"\r\n                      >Infants</label\r\n                    >\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      class=\"form-control\"\r\n                      id=\"infants-input\"\r\n                      aria-describedby=\"infants-label\"\r\n                    />\r\n             \r\n                </div>\r\n                <span id=\"infants-label\" class=\"form-text\">\r\n                Up to 2 years old\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"w-100 d-flex justify-content-center gap-4\">\r\n        <button id=\"search-button\" class=\"btn btn-search btn-dark\">Search</button>\r\n        <button class=\"btn btn-reset btn-dark\">Reset</button>\r\n      </div>\r\n      <div class=\"border-bottom mb-4 pt-4\" id=\"search-results-separator\"></div>\r\n      <div class=\"d-flex justify-content-center\" id=\"search-results-loader\">\r\n        <div class=\"spinner-border\" role=\"status\">\r\n          <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n       <div class=\"search-results-container container px-3\"> \r\n            <div id=\"best-flights\" class=\"cards-wrapper border border-secondary-subttle px-3 mb-4\">\r\n\r\n            \r\n            </div>\r\n            <div id=\"other-flights\" class=\"cards-wrapper border border-secondary-subttle px-3\">\r\n            \r\n            </div>\r\n\r\n          </div>  \r\n      \r\n    </div>\r\n`;\r\n\r\nexport default SearchForm;\r\n","const BASE_URL = \"http://localhost:5002\";\r\n\r\n//GET request\r\nexport async function getData(endpoint) {\r\n  try {\r\n    const response = await fetch(endpoint);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Data not found\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const saveData = async (endpoint, object) => {\r\n  const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(object),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Failed to save data\");\r\n  } else {\r\n    const data = await response.json();\r\n    return data;\r\n  }\r\n};\r\n","const FlightCard = (results, flight) => {\r\n  let flightsLength = flight.flights.length;\r\n  const formatTime = (time) => {\r\n    const [datePart, timePart] = time.split(\" \");\r\n    let [hour, minutes] = timePart.split(\":\");\r\n\r\n    const period = hour >= 12 ? \"PM\" : \"AM\";\r\n    hour = hour % 12 || 12; // Convert to 12-hour format and handle midnight as 12\r\n\r\n    return `${hour}:${minutes} ${period}`;\r\n  };\r\n\r\n  const formatDuration = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const remainingMinutes = minutes % 60;\r\n    return `${hours}h ${remainingMinutes}m`;\r\n  };\r\n\r\n  const emissionsData = document.querySelector(\".emissions span\");\r\n\r\n  return `\r\n        <div\r\n            class=\"card-container border-bottom border-secondary-subttle py-3 w-100 m-auto\"\r\n          >\r\n            <div class=\"row w-100 m-auto\">\r\n              <div class=\"col-11\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-1\">\r\n                    <img src=\"${flight.airline_logo}\" alt=\"airline-logo\" />\r\n                  </div>\r\n                  <div class=\"col-3\">\r\n                    <div class=\"data\">${formatTime(\r\n                      flight.flights[0].departure_airport.time\r\n                    )} - ${formatTime(\r\n    flight.flights[flightsLength - 1].arrival_airport.time\r\n  )}</div>\r\n                    <div class=\"subdata\"> ${flight.flights[0].airline}</div>\r\n                  </div>\r\n                  <div class=\"col-2\">\r\n                    <div class=\"data\">${formatDuration(\r\n                      flight.total_duration\r\n                    )}</div>\r\n                    <div class=\"subdata\">${\r\n                      results.search_parameters.departure_id\r\n                    } - ${results.search_parameters.arrival_id}\r\n  </div>\r\n                  </div>\r\n                  <div class=\"col-2\">\r\n                    <div class=\"data\">${\r\n                      flight.layovers?.length > 0\r\n                        ? `${flight.layovers.length} stops`\r\n                        : \"Nonstop\"\r\n                    } </div>\r\n                    <div class=\"subdata\">stops</div>\r\n                  </div>\r\n                  <div class=\"col-2\">\r\n                    <div class=\"data\">${\r\n                      flight.carbon_emissions.this_flight / 1000\r\n                    } kg CO2e</div>\r\n                    <div class=\"subdata emissions\"><span class=\"rounded-pill px-1\" style=\"background-color: ${\r\n                      flight.carbon_emissions.difference_percent < 0\r\n                        ? \"rgba(0, 128, 0, 0.2)\"\r\n                        : \"transparent\"\r\n                    }; \">\r\n                    ${\r\n                      flight.carbon_emissions.difference_percent > 0\r\n                        ? `+${flight.carbon_emissions.difference_percent}`\r\n                        : flight.carbon_emissions.difference_percent\r\n                    }% emissions\r\n                    </span></div>\r\n                  </div>\r\n                  <div class=\"col-2\">\r\n                    <div class=\"data\">${results.search_parameters.currency}$${\r\n    flight.price\r\n  }</div>\r\n                    <div class=\"subdata\">${flight.type}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-1\">\r\n                <button class=\"bi-check2-circle btn btn-select-flight\" \r\n                  data-toggle=\"tooltip\" \r\n                  data-token=\"${\r\n                    flight.departure_token ?? flight.booking_token\r\n                  }\" \r\n                  data-departure_id=\"${results.search_parameters.departure_id}\"\r\n                  data-arrival_id=\"${results.search_parameters.arrival_id}\"\r\n                  data-outbound_date=\"${\r\n                    results.search_parameters.outbound_date\r\n                  }\"\r\n                  data-return_date=\"${results.search_parameters.return_date}\"\r\n                  data-adults=\"${results.search_parameters.adults}\"\r\n                  data-children=\"${results.search_parameters.children}\"\r\n                  data-infants=\"${\r\n                    results.search_parameters.infants_in_seat !== null\r\n                      ? results.search_parameters.infants_in_seat\r\n                      : 0\r\n                  }\">\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n            </div>\r\n        \r\n`;\r\n};\r\n\r\nexport default FlightCard;\r\n","const BookingOptionsCard = (bookingOption) => {\r\n  let airlineLogo = \"\";\r\n  if (bookingOption.together.airline_logos.length > 0) {\r\n    airlineLogo = bookingOption.together.airline_logos[0];\r\n  }\r\n\r\n  let price = bookingOption.together.price;\r\n  let bookWith = bookingOption.together.book_with;\r\n\r\n  return `\r\n\r\n  <div\r\n        class=\"card-container container border-bottom border-secondary-subttle py-3 w-100 m-auto\"\r\n    >\r\n        <div class=\"row\">\r\n        <div class=\"col-9\">\r\n            <div class=\"row\">\r\n            <div class=\"col-1\">\r\n                <img src=\"${airlineLogo}\" alt=\"airline-logo\" />\r\n            </div>\r\n            <div class=\"col-6\">\r\n                <div class=\"data\">Book with - ${bookWith}</div>\r\n                <div class=\"subdata\">stops</div>\r\n            </div>\r\n            <div class=\"col-5\">\r\n                <div class=\"data\"><span class=\"text-success\">CAD $${price}</span></div>\r\n                <div class=\"subdata\">Check with airline for bag and optional fees</div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-3 text-center\">\r\n          <a\r\n            href=\"booking-form\"\r\n            data-link\r\n            class=\"btn btn-outline-success bi-bookmark-check btn-book-flight\"\r\n            data-price=\"${price}\"\r\n            data-book-with=\"${bookWith}\"\r\n\r\n          >\r\n            Book Flight\r\n          </a>\r\n        </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n`;\r\n};\r\n\r\nexport default BookingOptionsCard;\r\n","const SelectedFlightCard = (results, flight) => {\r\n  let flightsLength = flight.flights.length;\r\n  const formatTime = (time) => {\r\n    const [datePart, timePart] = time.split(\" \");\r\n    let [hour, minutes] = timePart.split(\":\");\r\n\r\n    const period = hour >= 12 ? \"PM\" : \"AM\";\r\n    hour = hour % 12 || 12; // Convert to 12-hour format and handle midnight as 12\r\n\r\n    return `${hour}:${minutes} ${period}`;\r\n  };\r\n\r\n  const formatDuration = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const remainingMinutes = minutes % 60;\r\n    return `${hours}h ${remainingMinutes}m`;\r\n  };\r\n\r\n  return `\r\n          <div\r\n              class=\"card-container border-bottom border-secondary-subttle py-3 w-100 m-auto\"\r\n            >\r\n              <div class=\"row w-100 m-auto\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-1\">\r\n                      <img src=\"${flight.airline_logo}\" alt=\"airline-logo\" />\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                      <div class=\"data\">${\r\n                        results.search_parameters.outbound_date\r\n                      } - ${formatTime(\r\n    flight.flights[0].departure_airport.time\r\n  )} - ${\r\n    flight.flights.length > 1\r\n      ? formatTime(flight.flights[flightsLength - 1].arrival_airport.time)\r\n      : formatTime(flight.flights[0].arrival_airport.time)\r\n  }</div>\r\n                      <div class=\"subdata\"> ${flight.flights[0].airline}</div>\r\n                    </div>\r\n                    <div class=\"col-2\">\r\n                      <div class=\"data\">${formatDuration(\r\n                        flight.total_duration\r\n                      )}</div>\r\n                      <div class=\"subdata\">${\r\n                        results.search_parameters.departure_id\r\n                      } - ${results.search_parameters.arrival_id}\r\n    </div>\r\n                    </div>\r\n                    <div class=\"col-2\">\r\n                      <div class=\"data\">${\r\n                        flight.layovers?.length > 0\r\n                          ? `${flight.layovers.length} stops`\r\n                          : \"Nonstop\"\r\n                      } </div>\r\n                      <div class=\"subdata\">stops</div>\r\n                    </div>\r\n                    <div class=\"col-3\">\r\n                      <div class=\"data\">${\r\n                        flight.carbon_emissions?.this_flight / 1000\r\n                      } kg CO2e</div>\r\n                      <div class=\"subdata emissions\"><span class=\"rounded-pill px-1\" style=\"background-color: ${\r\n                        flight.carbon_emissions.difference_percent < 0\r\n                          ? \"rgba(0, 128, 0, 0.2)\"\r\n                          : \"transparent\"\r\n                      }; \">\r\n                      ${\r\n                        flight.carbon_emissions.difference_percent > 0\r\n                          ? `+${flight.carbon_emissions.difference_percent}`\r\n                          : flight.carbon_emissions.difference_percent\r\n                      }% emissions\r\n                      </span></div>\r\n                    </div>                    \r\n                  </div>\r\n                </div>            \r\n              </div>\r\n            </div>\r\n              </div>\r\n          \r\n  `;\r\n};\r\n\r\nexport default SelectedFlightCard;\r\n","const SigninForm = `\r\n<section class=\"vh-75\">\r\n  <div class=\"container py-3 h-100\">\r\n    <div class=\"row d-flex justify-content-center pt-3 h-100\">\r\n      <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n        <div class=\"card login-card\" style=\"border-radius: 1rem;\">\r\n          <div class=\"card-body py-3 px-5 text-center\">\r\n\r\n            <div class=\"mb-md-5 mt-md-4 pb-2\">\r\n\r\n              <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\r\n              <p class=\"\" mb-5\">Please enter your login and password!</p>\r\n\r\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\r\n                <input type=\"text\" id=\"username\" name=\"username\" placeholder=\"username\" class=\"form-control form-control-lg\" placeholder=\"email\"/>\r\n                <div\r\n                    id=\"invalid-login-username\"\r\n                    class=\"invalid-feedback text-dark\"\r\n                >\r\n                    <i class=\"bi bi-exclamation-triangle\"></i>\r\n                    <span id=\"message\">Invalid Username</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div data-mdb-input-init class=\"form-outline form-white mb-4\">\r\n                <input placeholder=\"password\" type=\"password\" name=\"password\" id=\"password\" class=\"form-control form-control-lg\" />\r\n                 <div\r\n                    id=\"invalid-login-password\"\r\n                    class=\"invalid-feedback text-dark\"\r\n                >\r\n                    <i class=\"bi bi-exclamation-triangle\"></i>\r\n                    <span id=\"message\">Invalid Password</span>\r\n                </div>\r\n              </div>\r\n\r\n              <p class=\"small mb-3 pb-lg-2\"><a class=\"text-dark\" href=\"#!\">Forgot password?</a></p>\r\n\r\n              <button class=\"btn btn-dark btn-lg px-5\" type=\"submit\">Login</button>\r\n\r\n              <div class=\"d-flex justify-content-center text-center mt-4 pt-1\">\r\n                <a href=\"#!\" class=\"text-dark\"><i class=\"fab fa-facebook-f fa-lg\"></i></a>\r\n                <a href=\"#!\" class=\"text-dark\"><i class=\"fab fa-twitter fa-lg mx-4 px-2\"></i></a>\r\n                <a href=\"#!\" class=\"text-dark\"><i class=\"fab fa-google fa-lg\"></i></a>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div>\r\n              <p class=\"mb-0\">Don't have an account? <a href=\"#!\" class=\"fw-bold\">Sign Up</a>\r\n              </p>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n`;\r\n\r\nexport default SigninForm;\r\n","import BookingForm from \"../templates/booking-form.js\";\r\nimport AbstractView from \"./AbstractView.js\";\r\nimport { getData } from \"../utils/api-utility.js\";\r\nimport emailBody from \"../templates/email-body.js\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Booking Form\");\r\n    this.autocompleteTimeout = 300;\r\n    this.autocompleteTimeoutHandle = 0;\r\n    this.nacionalitiesList = [];\r\n    this.phoneCountryCodesList = [];\r\n    this.countryNames = {};\r\n    this.specialBaggage = 0;\r\n    this.checkedBaggage = 0;\r\n  }\r\n\r\n  async getHtml() {\r\n    await this.fetchCountriesData();\r\n\r\n    //get booking information from the localstorage\r\n    let bookingOption =\r\n      JSON.parse(localStorage.getItem(\"booking-option-data\")) || \"\";\r\n\r\n    let bookingData = JSON.parse(localStorage.getItem(\"booking-data\")) || \"\";\r\n\r\n    let selectedFlightsData = JSON.parse(\r\n      localStorage.getItem(\"selected-flights-data\")\r\n    );\r\n\r\n    return `\r\n     <div class=\"html-container\">\r\n     ${BookingForm(\r\n       this.nacionalitiesList,\r\n       bookingOption,\r\n       bookingData,\r\n       selectedFlightsData\r\n     )}     \r\n     </div>\r\n        \r\n        `;\r\n  }\r\n\r\n  async postRender() {\r\n    await this.fetchCountriesData();\r\n    this.initializeElements();\r\n\r\n    const { nationalityInput, formInputs, nationalityOptions } =\r\n      this.domElements;\r\n\r\n    /*   document.body.addEventListener(\"change\", () => {\r\n      clearTimeout(this.autocompleteTimeoutHandle);\r\n    });\r\n */\r\n    nationalityInput.addEventListener(\"input\", () => {\r\n      this.autocomplete(\r\n        nationalityInput,\r\n        nationalityOptions,\r\n        this.countryNames\r\n      );\r\n    });\r\n\r\n    /**\r\n     * Add event listeners to all inputs to handle feedback messages\r\n     */\r\n    formInputs.forEach((input) => {\r\n      input.addEventListener(\"input\", () => {\r\n        const inputId = input.id;\r\n        const messageElement = document.querySelector(`#invalid-${inputId}`);\r\n\r\n        if (input.value && messageElement) {\r\n          messageElement.classList.remove(\"d-block\");\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  initializeElements() {\r\n    this.domElements = {\r\n      nameInput: document.getElementById(\"name\"),\r\n      middleNameInput: document.getElementById(\"middle-name\"),\r\n      lastNameInput: document.getElementById(\"last-name\"),\r\n      selectGender: document.getElementById(\"gender\"),\r\n      selectDate: document.getElementById(\"birth-date\"),\r\n      nationalityOptions: document.getElementById(\"nationality-options\"),\r\n      nationalityInput: document.getElementById(\"nationality\"),\r\n      selectDialCode: document.querySelector(\".select-dial-code\"),\r\n      btnCheckOut: document.querySelector(\".btn-checkout\"),\r\n      btnSignIn: document.querySelector(\".btn-signin\"),\r\n      phoneTypeInput: document.getElementById(\"phone-type\"),\r\n      phoneInput: document.getElementById(\"phone-number\"),\r\n      emailInput: document.getElementById(\"email\"),\r\n      btnAddCheckedBaggage: document.querySelector(\".btn-add-checked-baggage\"),\r\n      btnAddSpecialBaggage: document.querySelector(\".btn-add-special-baggage\"),\r\n      specialBaggageCount: document.querySelector(\".special-baggage-count\"),\r\n      checkedBaggageCount: document.querySelector(\".checked-baggage-count\"),\r\n      addedSpecialBaggage: document.querySelector(\".added-special-baggage\"),\r\n      addedCheckedBaggage: document.querySelector(\".added-checked-baggage\"),\r\n      iconCheckedBaggage: document.querySelector(\".icon-checked-baggage\"),\r\n      iconSpecialBaggage: document.querySelector(\".icon-special-baggage\"),\r\n      signInFormContainer: document.getElementById(\"signin-form-container\"),\r\n      logoutButton: document.querySelector(\".btn-logout\"),\r\n      btnSubmit: document.querySelector(\".btn-submit\"),\r\n      logInForm: document.getElementById(\"signin-form\"),\r\n      logInUsernameInput: document.getElementById(\"login-username\"),\r\n      logInPasswordInput: document.getElementById(\"login-password\"),\r\n      usernameLabel: document.querySelector(\".user-name-label\"),\r\n      gotoRegistrationLink: document.querySelector(\".link-registration\"),\r\n      registerButtonContainer: document.getElementById(\r\n        \"register-button-container\"\r\n      ),\r\n      registrationSuggestion: document.querySelector(\r\n        \".registration-suggestion\"\r\n      ),\r\n      usernameInput: document.getElementById(\"username\"),\r\n      passwordInput: document.getElementById(\"password\"),\r\n\r\n      btnRegister: document.querySelector(\".btn-register\"),\r\n      invalidName: document.getElementById(\"invalid-name\"),\r\n      invalidLastName: document.getElementById(\"invalid-last-name\"),\r\n      invalidNationality: document.getElementById(\"invalid-nationality\"),\r\n      invalidDate: document.getElementById(\"invalid-birth-date\"),\r\n      invalidEmail: document.getElementById(\"invalid-email\"),\r\n      invalidUsername: document.getElementById(\"invalid-username\"),\r\n      invalidPassword: document.getElementById(\"invalid-password\"),\r\n      formInputs: document.querySelectorAll(\"input\"),\r\n    };\r\n    this.getBaggageDetails();\r\n    this.handleSignInButton();\r\n    this.handleSignInForm();\r\n    this.gotoRegister();\r\n    this.registerUser();\r\n    this.handleLogoutButton();\r\n    this.handleFormData();\r\n  }\r\n\r\n  autocomplete(input, datalist, countryNames) {\r\n    clearTimeout(this.autocompleteTimeoutHandle);\r\n    this.autocompleteTimeoutHandle = setTimeout(async () => {\r\n      try {\r\n        let matches = this.nacionalitiesList.filter((nationality) => {\r\n          const regex = new RegExp(input, \"gi\");\r\n          return nationality.name.common.match(regex);\r\n        });\r\n\r\n        datalist.textContent = \"\";\r\n        matches.forEach((entry) => {\r\n          countryNames[entry.name.common.toLowerCase()] = entry.name.common;\r\n          datalist.insertAdjacentHTML(\r\n            \"beforeend\",\r\n            `<option value=\"${entry.name.common}\">${entry.flag} ${entry.name.common}</option>`\r\n          );\r\n        });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }, this.autocompleteTimeout);\r\n  }\r\n\r\n  async fetchCountriesData() {\r\n    try {\r\n      const response = await getData(\r\n        \"https://restcountries.com/v3.1/all?dields=name,flag,idd\"\r\n      );\r\n      this.nacionalitiesList = response.sort((a, b) => {\r\n        if (a.name.common < b.name.common) {\r\n          return -1;\r\n        }\r\n        if (a.name.common > b.name.common) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  /* TODO: make this the main function to handle the form\r\n   * and add fields validation\r\n   */\r\n  handleFormData(userId) {\r\n    const {\r\n      btnCheckOut,\r\n      nameInput,\r\n      middleNameInput,\r\n      lastNameInput,\r\n      nationalityInput,\r\n      selectGender,\r\n      selectDate,\r\n      selectDialCode,\r\n      phoneInput,\r\n      emailInput,\r\n    } = this.domElements;\r\n\r\n    btnCheckOut.addEventListener(\"click\", async (event) => {\r\n      event.preventDefault();\r\n\r\n      // Retrieve data from localStorage\r\n      const bookingOption = JSON.parse(\r\n        localStorage.getItem(\"booking-option-data\")\r\n      );\r\n      const selectedFlightsData = JSON.parse(\r\n        localStorage.getItem(\"selected-flights-data\")\r\n      );\r\n      const bookingData = JSON.parse(localStorage.getItem(\"booking-data\"));\r\n\r\n      console.log(bookingOption);\r\n\r\n      if (!bookingOption || !selectedFlightsData || !bookingData) {\r\n        console.error(\"Missing booking option or selected flights data\");\r\n        return;\r\n      }\r\n\r\n      // Calculate tax and subtotal\r\n      let tax = bookingOption.price * 0.05;\r\n      let subtotal = bookingOption.price - tax;\r\n\r\n      // Booking data\r\n      const adults = bookingData.adults || 0;\r\n      const children = bookingData.children || 0;\r\n      const infants = bookingData.infants_in_seat || 0;\r\n      const numOfPassengers =\r\n        parseInt(adults) + parseInt(children) + parseInt(infants);\r\n\r\n      console.log(\"Passengers:\", numOfPassengers);\r\n\r\n      // Flight dates\r\n      let departureDate =\r\n        selectedFlightsData[0].flights[0].departure_airport.time;\r\n      let arrivalDate =\r\n        selectedFlightsData[0].flights.length > 1\r\n          ? selectedFlightsData[0].flights[1].departure_airport.time\r\n          : departureDate;\r\n\r\n      try {\r\n        // Insert Booking\r\n        const bookingTableData = {\r\n          Price: bookingOption.price,\r\n          NumberOfPassengers: numOfPassengers,\r\n          DepartureDate: departureDate,\r\n          BookingOption: bookingOption.bookingOption,\r\n          ArrivalDate: arrivalDate,\r\n        };\r\n\r\n        const bookingResponse = await fetch(\"/query/Booking\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ data: bookingTableData }),\r\n        });\r\n\r\n        if (!bookingResponse.ok) throw new Error(\"Failed to insert booking\");\r\n\r\n        const bookingResult = await bookingResponse.json();\r\n        console.log(\"Booking inserted successfully:\", bookingResult);\r\n\r\n        const bookingID = bookingResult.BookingID;\r\n        if (!bookingID) throw new Error(\"BookingID not returned\");\r\n\r\n        const countryName = nationalityInput.value;\r\n\r\n        let countryID = null;\r\n        const countryResponse = await fetch(\r\n          `/query?countryName=${countryName}`\r\n        );\r\n        const countryData = await countryResponse.json();\r\n        countryID = countryData.CountryID;\r\n        console.log(countryID);\r\n\r\n        if (!countryID) throw new Error(\"Country ID not found\");\r\n\r\n        //Insert Passenger\r\n        const passengerData = {\r\n          BookingID: bookingID,\r\n          FirstName: nameInput.value,\r\n          MiddleName: middleNameInput.value,\r\n          LastName: lastNameInput.value,\r\n          CountryID: countryID,\r\n          Gender: selectGender.value,\r\n          DateOfBirth: selectDate.value,\r\n          RegisterUserID: userId,\r\n        };\r\n\r\n        const passengerResponse = await fetch(\"/query/Passenger\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ data: passengerData }),\r\n        });\r\n\r\n        if (!passengerResponse.ok)\r\n          throw new Error(\"Failed to insert passenger\");\r\n\r\n        const passengerResult = await passengerResponse.json();\r\n        console.log(\"Passenger inserted successfully:\", passengerResult);\r\n\r\n        // Save passenger name to local storage\r\n        const name = nameInput.value;\r\n        localStorage.setItem(\"name\", JSON.stringify(name));\r\n\r\n        const passengerID = passengerResult.PassengerID;\r\n        if (!passengerID) throw new Error(\"PassengerID not returned\");\r\n\r\n        //Flight Airports\r\n        let departureAirport =\r\n          selectedFlightsData[0].flights[0].departure_airport.name;\r\n        let arrivalAirport =\r\n          selectedFlightsData[0].flights[1].arrival_airport.name;\r\n\r\n        let travelClass = selectedFlightsData[0].flights[0].travel_class;\r\n        // Insert Flight\r\n        const flightData = {\r\n          BookingID: bookingID,\r\n          FlightType: selectedFlightsData[0].type,\r\n          TravelClass: travelClass,\r\n          DepartureAirportID: bookingData.departure_id,\r\n          DepartureAirportName: departureAirport,\r\n          DepartureDateTime: departureDate,\r\n          ArrivalAirportID: bookingData.arrival_id,\r\n          ArrivalAirportName: arrivalAirport,\r\n          ArrivalDateTime: arrivalDate, //Revise this date and make sure you are getting the correct schedukle\r\n        };\r\n\r\n        const flightResponse = await fetch(\"/query/Flight\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ data: flightData }),\r\n        });\r\n\r\n        if (!flightResponse.ok) throw new Error(\"Failed to insert flight\");\r\n\r\n        const flightResult = await flightResponse.json();\r\n        console.log(\"Flight inserted successfully:\", flightResult);\r\n\r\n        const flightID = flightResult.FlightID;\r\n        if (!flightID) throw new Error(\"FlightID not returned\");\r\n\r\n        /* TODO:Need to refactor to make only one POST request\r\n         *  for that will need to modify the server query to accept arrays\r\n         *  to inster more  than one record at a time\r\n         */\r\n        let baggageStatus = \"Not included\";\r\n        if (this.checkedBaggage > 0) {\r\n          baggageStatus = \"Added\";\r\n\r\n          const baggageDataArray = [];\r\n\r\n          for (let i = 0; i < this.checkedBaggage; i++) {\r\n            // Insert Checked Baggage\r\n            const baggageData = {\r\n              PassengerID: passengerID,\r\n              Weight: 23.5,\r\n              BaggageType: \"Checked\",\r\n              Status: baggageStatus,\r\n            };\r\n\r\n            baggageDataArray.push(baggageData);\r\n            console.log(baggageDataArray[i]);\r\n\r\n            try {\r\n              const baggageResponse = await fetch(\"/query/Baggage\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ data: baggageDataArray[i] }),\r\n              });\r\n\r\n              if (!baggageResponse.ok)\r\n                throw new Error(\"Failed to insert baggage\");\r\n\r\n              const baggageResult = await baggageResponse.json();\r\n              console.log(\"Baggage inserted successfully:\", baggageResult);\r\n            } catch (error) {\r\n              console.error(\"Error inserting baggage:\", error);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Insert Contact\r\n        const contactData = {\r\n          PassengerID: passengerID,\r\n          PhoneType: \"Mobile\",\r\n          PhoneNumber: `${selectDialCode.value} ${phoneInput.value}`,\r\n          Email: emailInput.value,\r\n        };\r\n\r\n        const contactResponse = await fetch(\"/query/Contact\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ data: contactData }),\r\n        });\r\n\r\n        if (!contactResponse.ok) throw new Error(\"Failed to insert Contact\");\r\n\r\n        const contactResult = await contactResponse.json();\r\n        console.log(\"Contact inserted successfully:\", contactResult);\r\n\r\n        console.log(\"All records inserted successfully!\");\r\n      } catch (error) {\r\n        console.error(\"Error during insertion chain:\", error);\r\n      }\r\n\r\n      this.sendBookingConfirmation();\r\n\r\n      alert(\"Transaction Complete\");\r\n\r\n      // Redirect to booking confirmation page\r\n      window.location.href = \"/booking-confirmation\";\r\n    });\r\n  }\r\n\r\n  /**\r\n   * format dates\r\n   * @param {*} date\r\n   * @returns\r\n   */\r\n  formatDate(date) {\r\n    const [formattedDate] = date.toISOString().split(\"T\");\r\n    return formattedDate;\r\n  }\r\n\r\n  insertPassenger(countryId, registration) {\r\n    // Collect passenger data\r\n    const passengerData = {\r\n      FirstName: document.getElementById(\"name\").value,\r\n      MiddleName: document.getElementById(\"middle-name\").value,\r\n      LastName: document.getElementById(\"last-name\").value,\r\n      CountryID: countryId,\r\n      Gender: document.getElementById(\"gender-input\").value,\r\n      DateOfBirth: document.getElementById(\"birth-date\").value,\r\n      isRegistered: registration,\r\n    };\r\n  }\r\n\r\n  reset() {\r\n    const {\r\n      btnCheckOut,\r\n      nameInput,\r\n      middleNameInput,\r\n      lastNameInput,\r\n      nationalityInput,\r\n      selectGender,\r\n      selectDate,\r\n      selectDialCode,\r\n      phoneInput,\r\n    } = this.domElements;\r\n  }\r\n\r\n  getBaggageDetails() {\r\n    const {\r\n      specialBaggageCount,\r\n      checkedBaggageCount,\r\n      btnAddCheckedBaggage,\r\n      btnAddSpecialBaggage,\r\n      addedCheckedBaggage,\r\n      addedSpecialBaggage,\r\n      iconCheckedBaggage,\r\n      iconSpecialBaggage,\r\n    } = this.domElements;\r\n\r\n    //let passengerName = `${nameInput.value}+ \" \" +${lastNameInput.value}`;\r\n\r\n    btnAddSpecialBaggage.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      this.specialBaggage = specialBaggageCount.value;\r\n\r\n      if (this.specialBaggage > 0) {\r\n        addedSpecialBaggage.textContent = `Added x ${this.specialBaggage}`;\r\n        iconSpecialBaggage.classList.remove(\"text-danger\");\r\n        iconSpecialBaggage.classList.add(\"text-success\");\r\n      }\r\n    });\r\n\r\n    btnAddCheckedBaggage.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      this.checkedBaggage = checkedBaggageCount.value;\r\n\r\n      if (this.checkedBaggage > 0) {\r\n        addedCheckedBaggage.textContent = `Added x ${this.checkedBaggage}`;\r\n        iconCheckedBaggage.classList.remove(\"text-danger\");\r\n        iconCheckedBaggage.classList.add(\"text-success\");\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSignInButton() {\r\n    const { btnSignIn, signInFormContainer } = this.domElements;\r\n\r\n    btnSignIn.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      signInFormContainer.classList.remove(\"d-none\");\r\n      signInFormContainer.classList.add(\"d-block\");\r\n    });\r\n    console.log(signInFormContainer);\r\n  }\r\n\r\n  handleSignInForm() {\r\n    const {\r\n      logInForm,\r\n      logInUsernameInput,\r\n      logInPasswordInput,\r\n      logoutButton,\r\n      signInFormContainer,\r\n      registrationSuggestion,\r\n      usernameLabel,\r\n      btnCheckOut,\r\n      btnSignIn,\r\n    } = this.domElements;\r\n\r\n    if (logInForm) {\r\n      logInForm.addEventListener(\"submit\", async (event) => {\r\n        event.preventDefault();\r\n\r\n        const username = logInUsernameInput.value.trim();\r\n        const password = logInPasswordInput.value.trim();\r\n\r\n        if (password === \"\" || username === \"\") {\r\n          alert(\"Both username and password are required.\");\r\n        } else {\r\n          try {\r\n            // Make the login API request\r\n            const response = await fetch(\"/login\", {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify({ username, password }),\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            if (result.success) {\r\n              usernameLabel.textContent = result.username;\r\n\r\n              console.log(\"username:\", result.success);\r\n\r\n              logoutButton.classList.add(\"d-block\");\r\n              logoutButton.classList.remove(\"d-none\");\r\n              alert(\"Login successful!\");\r\n\r\n              signInFormContainer.classList.remove(\"d-block\");\r\n              signInFormContainer.classList.add(\"d-none\");\r\n\r\n              registrationSuggestion.classList.add(\"d-none\");\r\n              btnCheckOut.textContent = \"Checkout\";\r\n              btnSignIn.disabled = true;\r\n            } else {\r\n              alert(result.message || \"Invalid username or password.\");\r\n            }\r\n          } catch (error) {\r\n            console.error(\"Error during login:\", error);\r\n            alert(\"An error occurred during login. Please try again later.\");\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleLogoutButton() {\r\n    const {\r\n      logoutButton,\r\n      btnCheckOut,\r\n      usernameLabel,\r\n      registrationSuggestion,\r\n      logInForm,\r\n      btnSignIn,\r\n    } = this.domElements;\r\n\r\n    logoutButton.addEventListener(\"click\", async () => {\r\n      try {\r\n        const response = await fetch(\"/logout\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n        });\r\n\r\n        const result = await response.json();\r\n\r\n        if (result.success) {\r\n          alert(\"Logout succesful.\");\r\n          logoutButton.classList.remove(\"d-block\");\r\n          logoutButton.classList.add(\"d-none\");\r\n          usernameLabel.textContent = \"\";\r\n\r\n          btnCheckOut.textContent = \"Checkout as a Guest\";\r\n          btnSignIn.disabled = false;\r\n\r\n          registrationSuggestion.classList.remove(\"d-none\");\r\n          registrationSuggestion.classList.add(\"d-block\");\r\n\r\n          //clear form\r\n          logInForm.reset();\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error during logout:\", error);\r\n        alert(\"An error occurred during logout. Please try again later.\");\r\n      }\r\n    });\r\n  }\r\n\r\n  async sendBookingConfirmation() {\r\n    /* Collect data and send it to the server via AJAX */\r\n    const { emailInput, nameInput } = this.domElements;\r\n\r\n    /* //Flight Airports\r\n    let departureAirport =\r\n      selectedFlightsData[0].flights[0].departure_airport.name;\r\n    let arrivalAirport = selectedFlightsData[0].flights[1].arrival_airport.name;\r\n */\r\n    //get the required data top compose the email\r\n    const emailData = {\r\n      to: emailInput.value,\r\n      cc: \"\",\r\n      bcc: \"\",\r\n      subject: \"Flight Booking Confirmation\",\r\n      message: ` ${emailBody(nameInput.value)}`,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\"/send-email\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(emailData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert(\"Message sent succesfully!\");\r\n      } else {\r\n        alert(\"Failed to send message\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      alert(\"Error sending email.\");\r\n    }\r\n  }\r\n\r\n  gotoRegister() {\r\n    const {\r\n      gotoRegistrationLink,\r\n      registerButtonContainer,\r\n      nameInput,\r\n      invalidName,\r\n      lastNameInput,\r\n      invalidLastName,\r\n      nationalityInput,\r\n      invalidNationality,\r\n      selectDate,\r\n      invalidDate,\r\n    } = this.domElements;\r\n    gotoRegistrationLink.addEventListener(\"click\", (event) => {\r\n      event.preventDefault(); // Prevent default anchor behavior\r\n\r\n      if (\r\n        nameInput.value.trim() === \"\" ||\r\n        lastNameInput.value.trim() === \"\" ||\r\n        selectDate.value.trim() === \"\" ||\r\n        !selectDate.value\r\n      ) {\r\n        invalidName.classList.add(\"d-block\");\r\n        invalidLastName.classList.add(\"d-block\");\r\n        invalidNationality.classList.add(\"d-block\");\r\n        invalidDate.classList.add(\"d-block\");\r\n      } else {\r\n        // Remove 'd-none' to show the element\r\n        registerButtonContainer.classList.remove(\"d-none\");\r\n        registerButtonContainer.classList.add(\"d-block\");\r\n\r\n        // Optionally scroll into view\r\n        registerButtonContainer.scrollIntoView({ behavior: \"smooth\" });\r\n      }\r\n    });\r\n  }\r\n\r\n  registerUser() {\r\n    const {\r\n      btnRegister,\r\n      emailInput,\r\n      usernameInput,\r\n      passwordInput,\r\n      invalidUsername,\r\n      invalidEmail,\r\n      invalidPassword,\r\n      registerButtonContainer,\r\n    } = this.domElements;\r\n\r\n    let registeredUser;\r\n\r\n    if (usernameInput && passwordInput) {\r\n      // Avoid attaching multiple listeners\r\n      btnRegister.addEventListener(\"click\", async (event) => {\r\n        event.preventDefault();\r\n\r\n        console.log(\"usernameInput value:\", usernameInput?.value);\r\n        console.log(\"emailInput value:\", emailInput?.value);\r\n        console.log(\"passwordInput value:\", passwordInput?.value);\r\n\r\n        if (\r\n          usernameInput.value.trim() === \"\" ||\r\n          passwordInput.value.trim() === \"\" ||\r\n          emailInput.value.trim() === \"\"\r\n        ) {\r\n          invalidEmail.classList.add(\"d-block\");\r\n          invalidUsername.classList.add(\"d-block\");\r\n          invalidPassword.classList.add(\"d-block\");\r\n          return; // Stop further execution if inputs are invalid\r\n        }\r\n        \r\n\r\n        // Create RegisteredUser object\r\n        registeredUser = {\r\n          username: usernameInput?.value.trim(),\r\n          password: passwordInput?.value.trim(),\r\n          email: emailInput?.value.trim(),\r\n        };\r\n\r\n        try {\r\n          const response = await fetch(\"/register\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(registeredUser),\r\n          });\r\n\r\n          const result = await response.json();\r\n          console.log(\"Server Response:\", result); // Log the full response\r\n\r\n          if (result.success) {\r\n            let userId = result.userId;\r\n\r\n            alert(\r\n              \"Registration successful. Please sign in for a better experience\"\r\n            );\r\n\r\n            //clear the form\r\n            console.log(\"usernameInput: \", usernameInput);\r\n            usernameInput.value = \"\";\r\n            passwordInput.value = \"\";\r\n\r\n            //hide the form\r\n            registerButtonContainer.classList.remove(\"d-block\");\r\n            registerButtonContainer.classList.add(\"d-none\");\r\n            return result.userId;\r\n          } else {\r\n            alert(result.message || \"Registration failed. Please try again.\");\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error during registration:\", error);\r\n          alert(\r\n            \"An error occurred during registration. Please try again later.\"\r\n          );\r\n          return null;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","const BookingForm = (\r\n  countriesList,\r\n  bookingOption,\r\n  bookingData,\r\n  selectedFlightsData\r\n) => {\r\n  let tax = bookingOption.price * 0.05;\r\n  let subtotal = bookingOption.price - tax;\r\n  let adults = bookingData.adults || 0;\r\n  let children = bookingData.children || 0;\r\n  let infants = bookingData.infants_in_seat || 0;\r\n  let flightsLength = selectedFlightsData[0].flights.length;\r\n  let numOfPassengers =\r\n    parseInt(adults) + parseInt(children) + parseInt(infants);\r\n\r\n  let departureDate = formatDate(\r\n    selectedFlightsData[0].flights[0].departure_airport.time\r\n  );\r\n  let arrivalDate = \"\";\r\n  selectedFlightsData[0].flights.length > 1\r\n    ? (arrivalDate = formatDate(\r\n        selectedFlightsData[1].flights[0].departure_airport.time\r\n      ))\r\n    : (arrivalDate = formatDate(\r\n        selectedFlightsData[1].flights[0].departure_airport.time\r\n      ));\r\n\r\n  return ` \r\n<div class=\"container-sm p-3 border flight-booking\">\r\n      <div class=\"card p-3\">\r\n        <div class=\"row\">\r\n          <div>\r\n            <h4>Flight Summary</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <section class=\"flight-summary-section\">\r\n        <div class=\"form-content margin mt-2\">\r\n          <div class=\"row\">\r\n            <div class=\"col-6\">\r\n              <div class=\"card p-3 h-100\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div class=\"\">\r\n                    <span>${selectedFlightsData[0].type}</span\r\n                    ><span>\r\n                      - <span>${numOfPassengers}</span> passenger(s)</span\r\n                    >\r\n                  </div>\r\n                  <div class=\"\">\r\n                    <button class=\"btn btn-revise\">\r\n                      <i class=\"bi bi-pencil-square\"></i> Revise Trip\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div class=\"\">\r\n                  <div class=\"card p-3 mt-3\">\r\n                    <div class=\"data\">\r\n                      <span class=\"fw-bold\"\r\n                        >${\r\n                          selectedFlightsData[0].flights[0].departure_airport\r\n                            .name\r\n                        } - ${\r\n    selectedFlightsData[0].flights[0].departure_airport.id\r\n  }</span\r\n                      >\r\n                    </div>\r\n                    <div class=\"subdata\">\r\n                      <span class=\"\">${departureDate}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"card p-3 mt-3\">\r\n                    <div class=\"data\">\r\n                      <span class=\"fw-bold\"\r\n                        >${\r\n                          selectedFlightsData[0].flights.length > 1\r\n                            ? selectedFlightsData[0].flights[1].arrival_airport\r\n                                .name\r\n                            : selectedFlightsData[0].flights[0].arrival_airport\r\n                                .name\r\n                        } - ${\r\n    selectedFlightsData[0].flights.length > 1\r\n      ? selectedFlightsData[0].flights[1].arrival_airport.id\r\n      : selectedFlightsData[0].flights[0].arrival_airport.id\r\n  }</span\r\n                      >\r\n                    </div>\r\n                    <div class=\"subdata\">${arrivalDate}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <div class=\"card p-3\">\r\n                <div class=\"p-3 card\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6\">Fare</div>\r\n                    <div class=\"col-6\"><span>CAD $${subtotal}</span></div>\r\n                  </div>\r\n                  <div class=\"row py-3\">\r\n                    <div class=\"col-6\">Taxes and fees</div>\r\n                    <div class=\"col-6\">\r\n                      <span>CAD $${tax.toFixed(2)}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row pb-2\">\r\n                    <div class=\"col-6\">Total</div>\r\n                    <div class=\"col-6\">\r\n                      <span>CAD $${bookingOption.price}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <span class=\"subdata\"\r\n                      >Includes taxes and carrier-imposed fees\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"pt-3 row text-center\">\r\n                  <div class=\"d-flex flex-column gap-1 col-6\">\r\n                    <span class=\"fw-bold\">Already a member?</span>\r\n                    <button class=\"btn btn-outline-dark btn-signin w-75 m-auto\">\r\n                      Sign In\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"d-flex flex-column gap-1 col-6\">\r\n                    <span class=\"fw-bold\">or</span>\r\n                    <button class=\"btn btn-checkout btn-dark w-75 m-auto\">\r\n                      Checkout as a Guest\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <!-- Login Form -->\r\n      <div\r\n        class=\"container-sm p-3 border mt-3 d-none\"\r\n        id=\"signin-form-container\"\r\n      >\r\n        <section class=\"vh-75\">\r\n          <div class=\"container py-3 h-100\">\r\n            <div class=\"row d-flex justify-content-center pt-3 h-100\">\r\n              <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n                <div class=\"card login-card\" style=\"border-radius: 1rem\">\r\n                  <div class=\"card-body py-3 px-5 text-center\">\r\n                    <form id=\"signin-form\">\r\n                      <div class=\"mb-md-5 mt-md-4 pb-2\">\r\n                        <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\r\n                        <p class=\"mb-5\">\r\n                          Please enter your login and password!\r\n                        </p>\r\n\r\n                        <div\r\n                          data-mdb-input-init\r\n                          class=\"form-outline form-white mb-4\"\r\n                        >\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"login-username\"\r\n                            name=\"login-username\"\r\n                            placeholder=\"username\"\r\n                            class=\"form-control form-control-lg\"\r\n                          />\r\n                          <div\r\n                            id=\"invalid-login-username\"\r\n                            class=\"invalid-feedback text-dark\"\r\n                          >\r\n                            <i class=\"bi bi-exclamation-triangle\"></i>\r\n                            <span class=\"\">Invalid Username</span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div\r\n                          data-mdb-input-init\r\n                          class=\"form-outline form-white mb-4\"\r\n                        >\r\n                          <input\r\n                            placeholder=\"password\"\r\n                            type=\"password\"\r\n                            name=\"login-password\"\r\n                            id=\"login-password\"\r\n                            class=\"form-control form-control-lg\"\r\n                          />\r\n                          <div\r\n                            id=\"invalid-login-password\"\r\n                            class=\"invalid-feedback text-dark\"\r\n                          >\r\n                            <i class=\"bi bi-exclamation-triangle\"></i>\r\n                            <span>Invalid Password</span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <p class=\"small mb-3 pb-lg-2\">\r\n                          <a class=\"text-dark\" href=\"#!\">Forgot password?</a>\r\n                        </p>\r\n\r\n                        <button\r\n                          class=\"btn btn-dark btn-lg px-5 btn-submit\"\r\n                          type=\"submit\"\r\n                        >\r\n                          Login\r\n                        </button>\r\n\r\n                        <div\r\n                          class=\"d-flex justify-content-center text-center mt-4 pt-1\"\r\n                        >\r\n                          <a href=\"#!\" class=\"text-dark\"\r\n                            ><i class=\"fab fa-facebook-f fa-lg\"></i\r\n                          ></a>\r\n                          <a href=\"#!\" class=\"text-dark\"\r\n                            ><i class=\"fab fa-twitter fa-lg mx-4 px-2\"></i\r\n                          ></a>\r\n                          <a href=\"#!\" class=\"text-dark\"\r\n                            ><i class=\"fab fa-google fa-lg\"></i\r\n                          ></a>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <p class=\"mb-0\">\r\n                          Don't have an account?\r\n                          <a href=\"#!\" class=\"fw-bold\">Sign Up</a>\r\n                        </p>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      <div class=\"section-header py-3 border-bottom border-secondary-subttle\">\r\n        <div class=\"card p-3\">\r\n          <div class=\"row\">\r\n            <div class=\"col-9\">\r\n              <h4>Primary Passenger</h4>\r\n            </div>\r\n            <div class=\"col-3\">\r\n              <select class=\"form-select\">\r\n                <option value=\"Adult\" selected>\r\n                  Adult (12 years and older)\r\n                </option>\r\n                <option value=\"Child\">Child (2-12 years old)</option>\r\n                <option value=\"Infant\">Infant (Up to 2 years old)</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sections-container\">\r\n        <div>\r\n          <div\r\n            class=\"border-start-5 alert alert-info d-flex align-items-center\"\r\n            role=\"alert\"\r\n          >\r\n            <i class=\"bi bi-info-circle-fill me-3\"></i>\r\n            <span>\r\n              To avoid boarding complications, enter all names and surnames\r\n              <strong>exactly as they appear in your passport/ID.</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <section class=\"border-bottom\">\r\n          <div class=\"form-content margin\">\r\n            <div class=\"main-passenger-row\">\r\n              <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                  <div class=\"card p-3\">\r\n                    <div class=\"\">\r\n                      <label for=\"name\" class=\"form-label\"> Name </label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"name\" />\r\n                      <div id=\"invalid-name\" class=\"invalid-feedback\">\r\n                        <i class=\"bi bi-exclamation-triangle\"></i>\r\n                        <span>Invalid Name</span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"py-3\">\r\n                      <label for=\"middle-name\" class=\"form-label text-black-50\">\r\n                        Middle Name (optional)\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        id=\"middle-name\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"\">\r\n                      <label for=\"last-name\" class=\"form-label\">\r\n                        Last Name\r\n                      </label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"last-name\" />\r\n                      <div id=\"invalid-last-name\" class=\"invalid-feedback\">\r\n                        <i class=\"bi bi-exclamation-triangle\"></i>\r\n                        <span>Invalid Last Name</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <div class=\"card p-3\">\r\n                    <div class=\"\">\r\n                      <label for=\"nationality\" class=\"form-label\">\r\n                        Nationality\r\n                      </label>\r\n                      <div class=\"input-group\">\r\n                        <span class=\"input-group-text\">\r\n                          <i class=\"bi bi-globe-americas\"></i>\r\n                        </span>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          list=\"nationality-options\"\r\n                          id=\"nationality\"\r\n                        />\r\n                        <div id=\"invalid-nationality\" class=\"invalid-feedback\">\r\n                          <i class=\"bi bi-exclamation-triangle\"></i>\r\n                          <span>Invalid Nationality</span>\r\n                        </div>\r\n                        <datalist id=\"nationality-options\"></datalist>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"py-3\">\r\n                      <label for=\"gender\" class=\"form-label\"> Gender </label>\r\n                      <div class=\"input-group\">\r\n                        <span class=\"input-group-text\">\r\n                          <i class=\"bi bi-gender-ambiguous\"></i>\r\n                        </span>\r\n                        <select class=\"form-control form-select\" id=\"gender\">\r\n                          <option value=\"0\">Select...</option>\r\n                          <option value=\"M\">Male</option>\r\n                          <option value=\"F\">Female</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"\">\r\n                      <label for=\"birth-date\" class=\"form-label\">\r\n                        Date of Birth\r\n                      </label>\r\n                      <div class=\"input-group\">\r\n                        <span class=\"input-group-text\">\r\n                          <i class=\"bi-calendar\"></i>\r\n                        </span>\r\n                        <input\r\n                          type=\"date\"\r\n                          class=\"form-control\"\r\n                          id=\"birth-date\"\r\n                        />\r\n                        <div id=\"invalid-birth-date\" class=\"invalid-feedback\">\r\n                          <i class=\"bi bi-exclamation-triangle\"></i>\r\n                          <span>Invalid Date</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"registration-suggestion py-3\">\r\n                <div\r\n                  class=\"border-start-5 alert alert-info d-flex align-items-center\"\r\n                  role=\"alert\"\r\n                >\r\n                  <i class=\"bi bi-info-circle-fill me-3\"></i>\r\n                  <span\r\n                    >Want to\r\n                    <a\r\n                      href=\"#register-button-container\"\r\n                      class=\"link-registration fw-bold\"\r\n                      >register</a\r\n                    >\r\n                    for a better experience?</span\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"pt-4\">\r\n            <div class=\"card p-3\">\r\n              <h4 class=\"pb-3\">Check your baggage</h4>\r\n            </div>\r\n            <div class=\"py-3\">\r\n              <div\r\n                class=\"border-start-5 alert alert-info d-flex align-items-center\"\r\n                role=\"alert\"\r\n              >\r\n                <i class=\"bi bi-info-circle-fill me-3\"></i>\r\n                <span>\r\n                  Make sure to check the dimenssions and weight for the carry-on\r\n                  baggage allowance\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div class=\"container card p-3\">\r\n                <div class=\"card p-3 mb-3\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-8\">\r\n                      <div class=\"data\">\r\n                        <h5>Carry-on baggage</h5>\r\n                      </div>\r\n                      <div class=\"subdata\">\r\n                        <i class=\"bi bi-backpack text-success\"></i> 1 Added\r\n                        suitcase (15 kg), per passenger, round trip\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-4\"></div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"card p-3 mb-3\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-8\">\r\n                      <div class=\"data\">\r\n                        <h5>Checked baggage</h5>\r\n                      </div>\r\n                      <div class=\"subdata\">\r\n                        <i\r\n                          class=\"bi bi-suitcase2 text-danger icon-checked-baggage\"\r\n                        ></i>\r\n                        <span class=\"added-checked-baggage\">Not included</span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-2 text-center\">\r\n                      <input\r\n                        type=\"number\"\r\n                        class=\"form-control checked-baggage-count\"\r\n                        value=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"col-2 text-center\">\r\n                      <button class=\"btn btn-dark px-5 btn-add-checked-baggage\">\r\n                        Add\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"card p-3\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-8\">\r\n                      <div class=\"data\">\r\n                        <h5>Special baggage</h5>\r\n                      </div>\r\n                      <div class=\"subdata\">\r\n                        <i\r\n                          class=\"bi bi-suitcase2 text-danger icon-special-baggage\"\r\n                        ></i>\r\n                        <span class=\"added-special-baggage\">Not included</span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-2 text-center\">\r\n                      <input\r\n                        type=\"number\"\r\n                        class=\"form-control special-baggage-count\"\r\n                        value=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"col-2 text-center\">\r\n                      <button class=\"btn btn-dark px-5 btn-add-special-baggage\">\r\n                        Add\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <div class=\"card mt-4\">\r\n          <div class=\"p-3\">\r\n            <h4>Contact & additional information</h4>\r\n          </div>\r\n        </div>\r\n        <div class=\"pt-3\">\r\n          <div\r\n            class=\"border-start-5 alert alert-info d-flex align-items-center\"\r\n            role=\"alert\"\r\n          >\r\n            <i class=\"bi bi-info-circle-fill me-3\"></i>\r\n            <span>\r\n              Information provided should be for the primary passenger.\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <section class=\"py-3\">\r\n          <div class=\"card p-3\">\r\n            <div class=\"row\">\r\n              <div class=\"col-6\">\r\n                <div>\r\n                  <label class=\"form-label\" for=\"phone-type\">\r\n                    Phone Type\r\n                  </label>\r\n                  <select class=\"form-select\" id=\"phone-type\">\r\n                    <option value=\"Mobile\" selected>Mobile</option>\r\n                    <option value=\"Home\">Home</option>\r\n                    <option value=\"Office\">Office</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"py-3\">\r\n                  <label class=\"form-label\" for=\"phone-number\">\r\n                    Phone Number\r\n                  </label>\r\n                  <div class=\"input-group\">\r\n                    <select\r\n                      class=\"form-select input-group-text select-dial-code\"\r\n                    >\r\n                      ${countriesList\r\n                        .map((country) => {\r\n                          const suffix =\r\n                            country.idd &&\r\n                            country.idd.suffixes &&\r\n                            country.idd.suffixes.length > 0\r\n                              ? country.idd.suffixes[0]\r\n                              : \"\";\r\n                          return `\r\n                      <option value=\"${country.idd.root}\" class=\"country-codes\">\r\n                        ${country.name.common} (${country.idd.root}${suffix})\r\n                      </option>\r\n                      `;\r\n                        })\r\n                        .join()}\r\n                    </select>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      id=\"phone-number\"\r\n                      placeholder=\"10-digit-number\"\r\n                    />\r\n                    <div\r\n                      id=\"invalid-phone-number\"\r\n                      class=\"invalid-feedback text-dark\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span>Invalid Phone Number</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <div>\r\n                  <label class=\"form-label\" for=\"airmiles\">\r\n                    Airmiles or other program (optional)\r\n                  </label>\r\n                  <select class=\"form-select\" id=\"airmiles\">\r\n                    <option value=\"Mobile\" selected>Mobile</option>\r\n                    <option value=\"Home\">Home</option>\r\n                    <option value=\"Office\">Office</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"py-3\">\r\n                  <label class=\"form-label\" for=\"email\">\r\n                    Email<span class=\"text-danger\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    placeholder=\"youremail@example.com\"\r\n                    class=\"form-control\"\r\n                  />\r\n                  <div id=\"invalid-email\" class=\"invalid-feedback text-danger\">\r\n                    <i class=\"bi bi-exclamation-triangle\"></i>\r\n                    <span>Invalid email</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"d-none\" id=\"register-button-container\">\r\n              <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                  <div class=\"py-3\">\r\n                    <label class=\"form-label\" for=\"username\">\r\n                      Username<span class=\"text-danger\">*</span>\r\n                    </label>\r\n                    <input type=\"text\" id=\"username\" class=\"form-control\" />\r\n                    <div\r\n                      id=\"invalid-username\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span>Invalid username</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <div class=\"py-3\">\r\n                    <label class=\"form-label\" for=\"password\">\r\n                      Password<span class=\"text-danger\">*</span>\r\n                    </label>\r\n                    <input type=\"text\" id=\"password\" class=\"form-control\" />\r\n                    <div\r\n                      id=\"invalid-password\"\r\n                      class=\"invalid-feedback text-danger\"\r\n                    >\r\n                      <i class=\"bi bi-exclamation-triangle\"></i>\r\n                      <span>Invalid Password</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"w-50 m-auto pt-3\">\r\n                <button class=\"btn btn-dark btn-register w-100\">\r\n                  Register\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>`;\r\n};\r\n\r\nfunction formatDate(dateString) {\r\n  const date = new Date(dateString);\r\n\r\n  return (\r\n    date.toLocaleDateString(\"en-US\", {\r\n      weekday: \"long\", // Full weekday name\r\n      day: \"numeric\", // Numeric day of the month\r\n      month: \"long\", // Full month name\r\n      year: \"numeric\", // Full year\r\n    }) +\r\n    ` - ${date.toLocaleTimeString(\"en-US\", {\r\n      hour: \"numeric\",\r\n      minute: \"2-digit\",\r\n      hour12: true,\r\n    })}`\r\n  );\r\n}\r\n\r\nexport default BookingForm;\r\n","const emailBody = (name) => {\r\n  let pinCode = getRandomNums(0, 9, 4);\r\n  let clientReferenceFirstSegment = getRandomNums(0, 9, 2);\r\n  let clientReferenceSecondSegment = getRandomNums(0, 9, 9);\r\n  let bookingReference = getRandomLetters(6);\r\n\r\n  return `\r\n  <!DOCTYPE html>\r\n  <html>\r\n  <head>\r\n    <style>\r\n      body {\r\n        font-family: Arial, sans-serif;\r\n        color: #333;\r\n        margin: 0;\r\n        padding: 20px;\r\n      }\r\n      .email-container {\r\n        max-width: 600px;\r\n        margin: 0 auto;\r\n        background: #f9f9f9;\r\n        border: 1px solid #ddd;\r\n        border-radius: 8px;\r\n        padding: 20px;\r\n      }\r\n      h1, p {\r\n        margin: 0;\r\n        padding-bottom: 10px;\r\n      }\r\n      .section {\r\n        margin-bottom: 20px;\r\n        margin-top: 20px;\r\n      }\r\n      .section-title {\r\n        font-weight: bold;\r\n        border-bottom: 1px dashed #ddd;\r\n        margin: 0 0 10px 0;\r\n        padding-bottom: 5px;\r\n      }\r\n      .detail-row {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-bottom: 10px;\r\n      }\r\n      .label {\r\n        font-weight: bold;\r\n      }\r\n      .footer {\r\n        margin-top: 20px;\r\n        font-size: 0.9em;\r\n        color: #777;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <div class=\"email-container\">\r\n      <div class=\"section\">\r\n        <h1>Details of Your Flight Booking</h1>\r\n        <p>Hi <strong>${name}</strong>,</p>\r\n        <p><br>Thank you for booking your flight with us!</p>\r\n      </div>\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Booking References</div>\r\n        <div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"label\">Outbound Flight:</div>\r\n            <div>${bookingReference.join(\"\")}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"label\">Return Flight:</div>\r\n            <div>${bookingReference.join(\"\")}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Customer Reference and PIN</div>\r\n        <div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"label\">Customer Reference:</div>\r\n            <div>${clientReferenceFirstSegment.join(\r\n              \"\"\r\n            )}-${clientReferenceSecondSegment.join(\"\")}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"label\">PIN Code:</div>\r\n            <div>${pinCode.join(\"\")}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Your Flight Details</div>\r\n        <div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"label\">Departure Airport:</div>\r\n            <div>Departure Date</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"label\">Destination Airport:</div>\r\n            <div>Return Date</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"section\">\r\n        <p>If you have any questions, feel free to contact our customer support.</p>\r\n        <p>Safe travels!</p>\r\n      </div>\r\n      <p class=\"footer\">Best regards,<br><strong>BVC Airlines Team</strong></p>\r\n    </div>\r\n  </body>\r\n  </html>\r\n`;\r\n};\r\n\r\n/**\r\n * generate random numbers to simulate a customer reference number and PIN\r\n * normally used for contacting customer service\r\n * @param {*} min\r\n * @param {*} max\r\n * @param {*} count\r\n * @returns\r\n */\r\nfunction getRandomNums(min, max, count) {\r\n  const randomNumbers = [];\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    randomNumbers.push(Math.floor(Math.random() * (max - min)) + min);\r\n  }\r\n  return randomNumbers;\r\n}\r\n\r\n/**\r\n * Generate a set of random letters to simulate the booking confimration\r\n * @param {*} count\r\n * @returns\r\n */\r\nfunction getRandomLetters(count) {\r\n  const alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n  const randomLetters = [];\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    const randomIndex = Math.floor(Math.random() * alphabet.length);\r\n    randomLetters.push(alphabet[randomIndex]);\r\n  }\r\n  return randomLetters;\r\n}\r\n\r\nexport default emailBody;\r\n","import AbstractView from \"./AbstractView.js\";\r\n\r\nexport default class extends AbstractView {\r\n  constructor(params) {\r\n    super(params);\r\n    this.setTitle(\"Booking Confirmation\");\r\n  }\r\n\r\n  async getHtml() {\r\n    let name = JSON.parse(localStorage.getItem(\"name\"));\r\n    let bookingData = JSON.parse(localStorage.getItem(\"booking-data\")) || \"\";\r\n    let selectedFlightsData = JSON.parse(\r\n      localStorage.getItem(\"selected-flights-data\")\r\n    );\r\n    let bookingOption =\r\n      JSON.parse(localStorage.getItem(\"booking-option-data\")) || \"\";\r\n\r\n    let pinCode = this.getRandomNums(0, 9, 4);\r\n    let clientReferenceFirstSegment = this.getRandomNums(0, 9, 2);\r\n    let clientReferenceSecondSegment = this.getRandomNums(0, 9, 9);\r\n    let bookingReference = this.getRandomLetters(6);\r\n    let adults = bookingData.adults || 0;\r\n    let children = bookingData.children || 0;\r\n    let infants = bookingData.infants_in_seat || 0;\r\n\r\n    let numOfPassengers =\r\n      parseInt(adults) + parseInt(children) + parseInt(infants);\r\n\r\n    let departureDate = this.formatDate(\r\n      selectedFlightsData[0].flights[0].departure_airport.time\r\n    );\r\n    let arrivalDate = \"\";\r\n    selectedFlightsData[0].flights.length > 1\r\n      ? (arrivalDate = this.formatDate(\r\n          selectedFlightsData[1].flights[0].departure_airport.time\r\n        ))\r\n      : (arrivalDate = this.formatDate(\r\n          selectedFlightsData[1].flights[0].departure_airport.time\r\n        ));\r\n\r\n    return `\r\n    <div class=\"html-container\">\r\n        <div class=\"container-sm p-3 border booking-confirmation mt-3\">\r\n            <div class=\"booking-confirmation-section\">\r\n                <div class=\"card p-3 mb-3\">\r\n                    <div class=\"row\">\r\n                        <div class=\"d-flex justify-content-between\">\r\n                            <h4>Details of your flight booking</h4>\r\n                            <div>\r\n                                <button class=\"btn btn-dark\"><i class=\"bi bi-printer\"></i> Print</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card p-3\">\r\n                    <div class=\"border-bottom border-secondary-subttle\">\r\n                        <p>Hi <span>${name}</span></p>\r\n                        <p>Travel can be complicated. To keep things simple, we've gathered all the details about your upcoming flight in one place.</p>\r\n                    </div>\r\n                    <div class=\"border-bottom border-secondary-subttle\" >\r\n                        <div class=\"row py-3 w-100 m-auto\">\r\n                            <div class=\"col-5\">\r\n                                <p class=\"fw-bold\">Booking References</p>\r\n                            </div>\r\n                            <div class=\"col-7\">\r\n                                <p>Use your booking reference when you check in online for your flight. It's also useful if you need to contact the airline about your flight.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row w-100 m-auto\">\r\n                            <div class=\"col-5\">\r\n                                <ul class=\"ps-0\">\r\n                                ${\r\n                                  selectedFlightsData[0].type === \"Round trip\"\r\n                                    ? `\r\n                                    <li class=\"list-group-item\">${selectedFlightsData[0].flights[0].departure_airport.id} <i class=\"bi bi-arrow-right\"></i> ${selectedFlightsData[0].flights[1].arrival_airport.id}</li>\r\n                                    <li class=\"list-group-item py-3\">${selectedFlightsData[0].flights[1].arrival_airport.id} <i class=\"bi bi-arrow-right\"></i> ${selectedFlightsData[0].flights[0].departure_airport.id}</li>                                    \r\n                                    `\r\n                                    : ` \r\n                                    <li class=\"list-group-item\">\r\n                                          ${selectedFlightsData[0].flights[0].departure_airport.id} \r\n                                                <i class=\"bi bi-arrow-right\"></i> \r\n                                                      ${selectedFlightsData[0].flights[0].arrival_airport.id}\r\n                                     </li>`\r\n                                }                                    \r\n                                </ul>                            \r\n                            </div>\r\n                            <div class=\"col-7\">\r\n                                 <ul class=\"ps-0\">\r\n                                    <li class=\"list-group-item\">${bookingReference.join(\r\n                                      \"\"\r\n                                    )}</li>\r\n                                    <li class=\"list-group-item py-3\">${bookingReference.join(\r\n                                      \"\"\r\n                                    )}</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div class=\"row py-3 w-100 m-auto\">\r\n                            <div class=\"col-5\">\r\n                                <p class=\"fw-bold\">Customer reference and PIN</p>\r\n                            </div>\r\n                            <div class=\"col-7\">\r\n                                <p>Your customer reference and PIN are important if you need to contact us about your flight reservation.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row w-100 m-auto\">\r\n                            <div class=\"col-5\">\r\n                                <p>Customer reference</p>\r\n                            </div>\r\n                            <div class=\"col-7\">\r\n                                <p>${clientReferenceFirstSegment.join(\r\n                                  \"\"\r\n                                )}-${clientReferenceSecondSegment.join(\"\")}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row w-100 m-auto\">\r\n                            <div class=\"col-5\">\r\n                                <p>PIN code</p>\r\n                            </div>\r\n                            <div class=\"col-7\">\r\n                                <p>${pinCode.join(\"\")}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div class=\"p-3 w-100 m-auto\">\r\n                            <h5 class=\"fw-bold\">How to check in</h5>\r\n                            <ol class=\"ps-3\">\r\n                                <li>Online check-in generally opens 72 to 24 hours before your departure time</li>\r\n                                <li>Check in on the airline's website using your booking reference (top of the email)</li>\r\n                                <li>You'll get your boarding pass from the airline when you check in</li>\r\n                            </ol>                            \r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"card p-3\">\r\n                        <h5 class=\"fw-bold\">Your flight details</h5>\r\n                        <div>\r\n                       \r\n                            <div class=\"d-flex justify-content-between align-items-center\">\r\n                                                            <div><span>${numOfPassengers}</span> passenger(s)</span> - <strong>CAD $<span>${parseInt(\r\n      bookingOption.price\r\n    ).toFixed(2)}</span></strong></div>                                \r\n                                                        </div>\r\n                                                            <div class=\"\">\r\n                                                                <div class=\"card p-3 mt-3\">\r\n                                                                <div class=\"row\">\r\n                                                                    <div class=\"col-2\">\r\n                                                                        <img src=\"${\r\n                                                                          selectedFlightsData[0]\r\n                                                                            .flights[0]\r\n                                                                            .airline_logo\r\n                                                                        }\"/>\r\n                                                                    </div>\r\n                                                                    <div class=\"data col-7 pt-2\">\r\n                                                                        <div><span class=\"fw-bold\">${\r\n                                                                          selectedFlightsData[0]\r\n                                                                            .flights[0]\r\n                                                                            .departure_airport\r\n                                                                            .name\r\n                                                                        } - ${\r\n      selectedFlightsData[0].flights[0].departure_airport.id\r\n    }</span></div>\r\n                                            <div class=\"subdata\"><span class=\"\">${departureDate}</span></div>\r\n                                            </div>\r\n                                            <div class=\"col-3\">\r\n                                               <div>\r\n                                                    <div class=\"data\">\r\n                                                        <p>Checked baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\r\n                                                    </div>\r\n                                                   \r\n                                               </div>\r\n                                                <div>\r\n                                                    <div class=\"data\">\r\n                                                        <p>Special baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\r\n                                                    </div>                                                   \r\n                                               </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"card p-3 mt-3\">\r\n                                     <div class=\"row\">\r\n                                         <div class=\"col-2\">\r\n                                                <img src=\"${\r\n                                                  selectedFlightsData[0]\r\n                                                    .flights[1].airline_logo\r\n                                                }\"/>\r\n                                            </div>\r\n                                        <div class=\"col-7 pt-3\">\r\n                                            <div class=\"data\"><span class=\"fw-bold\">${\r\n                                              selectedFlightsData[0].flights\r\n                                                .length > 1\r\n                                                ? selectedFlightsData[0]\r\n                                                    .flights[1].arrival_airport\r\n                                                    .name\r\n                                                : selectedFlightsData[0]\r\n                                                    .flights[0].arrival_airport\r\n                                                    .name\r\n                                            } - ${\r\n      selectedFlightsData[0].flights.length > 1\r\n        ? selectedFlightsData[0].flights[1].arrival_airport.id\r\n        : selectedFlightsData[0].flights[0].arrival_airport.id\r\n    }</span></div>\r\n                                            <div class=\"subdata\">${arrivalDate}</div>\r\n                                            </div>\r\n                                             <div class=\"col-3\">\r\n                                               <div>\r\n                                                    <div class=\"data\">\r\n                                                        <p>Checked baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\r\n                                                    </div>\r\n                                                   \r\n                                               </div>\r\n                                                <div>\r\n                                                    <div class=\"data\">\r\n                                                        <p>Special baggage <i class=\"bi bi-suitcase2 text-success\"></i> x 1</p>\r\n                                                    </div>                                                   \r\n                                               </div>\r\n                                            </div>\r\n                                        </div>\r\n                                       \r\n                                     </div>\r\n                                </div>\r\n                        </div>\r\n                    </div> \r\n                    \r\n                    <div class=\"p-3\">\r\n                        <div>\r\n                            <h5 class=\"fw-bold\">If you need any help</h5>\r\n                            <p>Visit the Flights help center and have your customer reference and PIN at hand</p>\r\n                        </div>\r\n                    </div>                    \r\n                </div>   \r\n            </div>\r\n        </div>\r\n    </div>\r\n    `;\r\n  }\r\n\r\n  async postRender() {}\r\n\r\n  /**\r\n   * generate random numbers to simulate a customer reference number and PIN\r\n   * normally used for contacting customer service\r\n   * @param {*} min\r\n   * @param {*} max\r\n   * @param {*} count\r\n   * @returns\r\n   */\r\n  getRandomNums(min, max, count) {\r\n    const randomNumbers = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      randomNumbers.push(Math.floor(Math.random() * (max - min)) + min);\r\n    }\r\n    return randomNumbers;\r\n  }\r\n\r\n  /**\r\n   * Generate a set of random letters to simulate the booking confimration\r\n   * @param {*} count\r\n   * @returns\r\n   */\r\n  getRandomLetters(count) {\r\n    const alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n    const randomLetters = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const randomIndex = Math.floor(Math.random() * alphabet.length);\r\n      randomLetters.push(alphabet[randomIndex]);\r\n    }\r\n    return randomLetters;\r\n  }\r\n\r\n  /**\r\n   * format date to US locale\r\n   * @param {*} dateString\r\n   * @returns\r\n   */\r\n  formatDate(dateString) {\r\n    const date = new Date(dateString);\r\n\r\n    return (\r\n      date.toLocaleDateString(\"en-US\", {\r\n        weekday: \"long\",\r\n        day: \"numeric\",\r\n        month: \"long\",\r\n        year: \"numeric\",\r\n      }) +\r\n      ` - ${date.toLocaleTimeString(\"en-US\", {\r\n        hour: \"numeric\",\r\n        minute: \"2-digit\",\r\n        hour12: true,\r\n      })}`\r\n    );\r\n  }\r\n}\r\n"],"names":["$c4b00e42b75f1dbd$export$2e2bcd8739ae039","constructor","params","setTitle","title","document","getHtml","postRender","$466909656a1b336a$var$Hero","$29b5229218e4e9e4$var$SearchForm","$55510dd80b4e0306$export$7a171f172be0782e","endpoint","response","fetch","ok","Error","json","error","$7ea57702f6c119e4$export$2e2bcd8739ae039","results","flight","flightsLength","flights","length","formatTime","time","datePart","timePart","split","hour","minutes","period","querySelector","airline_logo","departure_airport","arrival_airport","airline","formatDuration","hours","Math","floor","total_duration","search_parameters","departure_id","arrival_id","layovers","carbon_emissions","this_flight","difference_percent","currency","price","type","departure_token","booking_token","outbound_date","return_date","adults","children","infants_in_seat","$fb9992c631150e99$export$2e2bcd8739ae039","bookingOption","airlineLogo","together","airline_logos","bookWith","book_with","$964bf997095f0af1$export$2e2bcd8739ae039","$383917d63580280f$export$2e2bcd8739ae039","autocompleteTimeout","autocompleteTimeoutHandle","domElements","initializeElements","originInput","originOptions","destinationInput","destinationOptions","departureDateInput","flightTypeSelect","returnDate","searchButton","resetButton","selectFlightButtons","searchResultsSeparator","searchResultsLoader","searchResults","returnDateInput","travelClassSelect","adultsInput","childrenInput","infantsInput","flightIcon","reset","body","addEventListener","clearTimeout","disabled","value","autocomplete","classList","add","remove","search","showResults","event","preventDefault","getElementById","querySelectorAll","bookFlightButtons","sendQueryButton","bestFlights","otherFlights","infantsOnLap","valueAsDate","Date","formatDate","date","formattedDate","toISOString","formatNumber","number","abs","parseInt","input","datalist","setTimeout","matches","data","filter","airport","regex","RegExp","country","match","name","city","iata_code","textContent","forEach","entry","insertAdjacentHTML","console","returns","URLSearchParams","travel_class","hl","query","toString","bestFlightsList","best_flights","otherFlightsList","other_flights","innerHTML","getReturnFlights","button","token","target","getAttribute","engine","numOfInfants","showReturnResults","getBookingOptions","urlParams","showBookingOptions","bookingOptions","booking_options","selectedFlights","selected_flights","option","chooseBookingOption","localStorage","removeItem","setItem","JSON","stringify","$ce7e6a9fffbcf417$var$formatDate","dateString","toLocaleDateString","weekday","day","month","year","toLocaleTimeString","minute","hour12","$ce7e6a9fffbcf417$export$2e2bcd8739ae039","countriesList","bookingData","selectedFlightsData","tax","subtotal","infants","numOfPassengers","departureDate","arrivalDate","id","toFixed","map","suffix","idd","suffixes","root","common","join","$c4a02edd7d4f4ac1$var$getRandomNums","min","max","count","randomNumbers","i","push","random","$c4a02edd7d4f4ac1$export$2e2bcd8739ae039","pinCode","clientReferenceFirstSegment","clientReferenceSecondSegment","bookingReference","$c4a02edd7d4f4ac1$var$getRandomLetters","alphabet","randomLetters","randomIndex","$0a4bffb4769d283d$export$2e2bcd8739ae039","nacionalitiesList","phoneCountryCodesList","countryNames","specialBaggage","checkedBaggage","fetchCountriesData","parse","getItem","nationalityInput","formInputs","nationalityOptions","inputId","messageElement","nameInput","middleNameInput","lastNameInput","selectGender","selectDate","selectDialCode","btnCheckOut","btnSignIn","phoneTypeInput","phoneInput","emailInput","btnAddCheckedBaggage","btnAddSpecialBaggage","specialBaggageCount","checkedBaggageCount","addedSpecialBaggage","addedCheckedBaggage","iconCheckedBaggage","iconSpecialBaggage","signInFormContainer","logoutButton","btnSubmit","logInForm","logInUsernameInput","logInPasswordInput","usernameLabel","gotoRegistrationLink","registerButtonContainer","registrationSuggestion","usernameInput","passwordInput","btnRegister","invalidName","invalidLastName","invalidNationality","invalidDate","invalidEmail","invalidUsername","invalidPassword","getBaggageDetails","handleSignInButton","handleSignInForm","gotoRegister","registerUser","handleLogoutButton","handleFormData","nationality","toLowerCase","flag","sort","a","b","userId","log","bookingTableData","Price","NumberOfPassengers","DepartureDate","BookingOption","ArrivalDate","bookingResponse","method","headers","bookingResult","bookingID","BookingID","countryName","countryID","countryResponse","countryData","CountryID","passengerData","FirstName","MiddleName","LastName","Gender","DateOfBirth","RegisterUserID","passengerResponse","passengerResult","passengerID","PassengerID","departureAirport","arrivalAirport","travelClass","flightData","FlightType","TravelClass","DepartureAirportID","DepartureAirportName","DepartureDateTime","ArrivalAirportID","ArrivalAirportName","ArrivalDateTime","flightResponse","flightResult","FlightID","baggageStatus","baggageDataArray","baggageData","Weight","BaggageType","Status","baggageResponse","baggageResult","contactData","PhoneType","PhoneNumber","Email","contactResponse","contactResult","sendBookingConfirmation","alert","window","location","href","insertPassenger","countryId","registration","username","trim","password","result","success","message","emailData","to","cc","bcc","subject","scrollIntoView","behavior","registeredUser","email","$5fbdb6ea29566137$export$2e2bcd8739ae039","getRandomNums","getRandomLetters","$4a1fb3697f2d86ed$var$pathToRegex","path","replace","$4a1fb3697f2d86ed$var$getParams","values","slice","Object","fromEntries","keys","Array","from","route","matchAll","key","$4a1fb3697f2d86ed$var$navigateTo","url","history","pushState","$4a1fb3697f2d86ed$var$router","routes","view","potentialMatches","pathname","find","potentialMatch","appContainer","link","nav"],"version":3,"file":"index.604fc533.js.map"}